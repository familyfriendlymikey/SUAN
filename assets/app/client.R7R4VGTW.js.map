{
  "version": 3,
  "sources": ["../node_modules/imba/src/imba/utils.imba", "../node_modules/imba/src/imba/scheduler.imba", "../node_modules/imba/src/imba/manifest.web.imba", "../node_modules/imba/src/imba/asset.imba", "../node_modules/imba/src/imba/dom/flags.imba", "../node_modules/imba/src/imba/dom/core.web.imba", "../node_modules/imba/src/imba/dom/fragment.imba", "../node_modules/imba/src/imba/dom/component.imba", "../node_modules/imba/src/imba/dom/styles.imba", "../node_modules/imba/src/imba/dom/context.imba", "../node_modules/imba/src/imba/dom/mount.imba", "../node_modules/imba/src/imba/dom/bind.imba", "../node_modules/imba/src/imba/events/core.imba", "../node_modules/imba/src/imba/events/pointer.imba", "img:app/assets/home.svg", "img:app/assets/sun.svg", "img:app/assets/moon.svg", "img:app/assets/settings.svg", "img:app/assets/x.svg", "img:app/assets/check.svg", "img:app/assets/plus.svg", "../node_modules/nanoid/index.prod.js", "client.imba"],
  "sourcesContent": ["const dashRegex = /-./g\n\nexport class LazyProxy\n\tstatic def for getter\n\t\tnew Proxy({}, new self(getter))\n\n\tdef constructor getter\n\t\tgetter = getter\n\t\n\tget target\n\t\tgetter!\n\n\tdef get _, key\n\t\ttarget[key]\n\t\n\tdef set _, key, value\n\t\ttarget[key] = value\n\t\treturn true\n\nexport def proxy getter, placeholder = {}\n\tnew Proxy(placeholder, new LazyProxy(getter))\n\nexport def parseTime value\n\tlet typ = typeof value\n\tif typ == 'number'\n\t\treturn value\n\n\tif typ == 'string'\n\t\tif (/^\\d+fps$/).test(value)\n\t\t\treturn 1000 / parseFloat(value)\n\t\telif (/^([-+]?[\\d\\.]+)s$/).test(value)\n\t\t\treturn parseFloat(value) * 1000\n\t\telif (/^([-+]?[\\d\\.]+)ms$/).test(value)\n\t\t\treturn parseFloat(value)\n\t# throw or return NaN?\n\treturn null\n\t\n\nexport def serializeData data\n\tlet map = new Map\n\tlet arr = []\n\tlet logging = no\n\tlet replacer = do(key,value)\n\t\tif value and value.#type and key !== ''\n\t\t\tlet ref = map.get(value) # value[sym] ||= \"$${nr++}$$\"\n\t\t\tunless map.has(value)\n\t\t\t\tmap.set(value,ref = \"$${arr.length}$$\")\n\t\t\t\tarr.push(value)\n\t\t\treturn key == null ? value : ref\n\t\tvalue\n\n\tlet json = JSON.stringify(data,replacer,2)\n\tlet i = 0\n\tlogging = yes\n\twhile i < arr.length\n\t\tarr[i] = JSON.stringify(arr[i],replacer,2)\n\t\ti++\n\n\tlet inject = \"\"\n\tfor item,i in arr\n\t\tinject += \"\\\"$${i}$$\\\":{item},\\n\"\n\tjson = '{' + inject + json.slice(1)\n\treturn json\n\t\n\nexport def deserializeData data, reviver = null\n\tlet objects = {}\n\tlet reg = /\\$\\$\\d+\\$\\$/\n\tlet lookup = do(value)\n\t\treturn objects[value] ||= reviver ? reviver(value) : {}\n\n\tlet parser = do(key,value)\n\t\tif typeof value == 'string'\n\t\t\tif value[0] == '$' and reg.test(value)\n\t\t\t\treturn lookup(value)\n\t\telif typeof key == 'string' and key[0] == '$' and reg.test(key)\n\t\t\tlet obj = lookup(key)\n\t\t\tObject.assign(obj,value)\n\t\t\treturn obj\n\n\t\treturn value\n\n\tlet parsed = JSON.parse(data,parser)\n\treturn parsed\n\nexport def patchManifest prev, curr\n\tlet origs = {}\n\tlet diff = {\n\t\tadded: []\n\t\tchanged: []\n\t\tremoved: []\n\t\tall: []\n\t\turls: {}\n\t}\n\n\tif prev.assets\n\t\tfor item in prev.assets\n\t\t\tlet ref = item.originalPath or item.path\n\t\t\torigs[ref] = item\n\t\t\tif item.url\n\t\t\t\t# add old urls to the new manifest\n\t\t\t\tcurr.urls[item.url] ||= item\n\t\n\tfor item in (curr.assets or [])\n\t\tlet ref = item.originalPath or item.path\n\t\tlet orig = origs[ref]\n\n\t\tif item.url and prev.urls\n\t\t\tprev.urls[item.url] = item\n\n\t\tif orig\n\t\t\tif orig.hash != item.hash\n\t\t\t\torig.invalidated = Date.now!\n\t\t\t\torig.replacedBy = item\n\t\t\t\titem.replaces = orig\n\t\t\t\tdiff.changed.push(item)\n\t\t\t\tdiff.all.push(item)\n\n\t\t\t\tif orig == prev.main\n\t\t\t\t\tdiff.main = item\n\n\t\t\tdelete origs[ref]\n\t\telse\n\t\t\tdiff.added.push(item)\n\t\t\tdiff.all.push(item)\n\n\t# these are the items that are no longer referencd\n\tfor own path,item of origs\n\t\titem.removed = Date.now!\n\t\tdiff.all.push(item)\n\n\tfor item in diff.all\n\t\tlet typ = diff[item.type] ||= []\n\t\ttyp.push(item)\n\n\tdiff.removed = Object.values(origs)\n\tcurr.changes = diff\n\treturn curr\n\nexport def toCamelCase str\n\tif str.indexOf('-') >= 0\n\t\tstr.replace(dashRegex) do $1.charAt(1).toUpperCase!\n\telse\n\t\tstr\n\n\n# Basic events - move to separate file?\nconst emit__ = do(event, args, node)\n\tlet prev\n\tlet cb\n\tlet ret\n\n\twhile (prev = node) and (node = node.next)\n\t\tif cb = node.listener\n\t\t\tif node.path and cb[node.path]\n\t\t\t\tret = args ? cb[node.path].apply(cb,args) : cb[node.path]()\n\t\t\telse\n\t\t\t\t# check if it is a method?\n\t\t\t\tret = args ? cb.apply(node, args) : cb.call(node)\n\n\t\tif node.times && --node.times <= 0\n\t\t\tprev.next = node.next\n\t\t\tnode.listener = null\n\treturn\n\n# method for registering a listener on object\nexport def listen obj, event, listener, path\n\tlet cbs\n\tlet list\n\tlet tail\n\tcbs = obj.#__listeners__ ||= {}\n\tlist = cbs[event] ||= {}\n\ttail = list.tail || (list.tail = (list.next = {}))\n\ttail.listener = listener\n\ttail.path = path\n\tlist.tail = tail.next = {}\n\treturn tail\n\n# register a listener once\nexport def once obj, event, listener\n\tlet tail = listen(obj,event,listener)\n\ttail.times = 1\n\treturn tail\n\n# remove a listener\nexport def unlisten obj, event, cb, meth\n\tlet node\n\tlet prev\n\tlet meta = obj.#__listeners__\n\treturn unless meta\n\n\tif node = meta[event]\n\t\twhile (prev = node) and (node = node.next)\n\t\t\tif node == cb || node.listener == cb\n\t\t\t\tprev.next = node.next\n\t\t\t\t# check for correct path as well?\n\t\t\t\tnode.listener = null\n\t\t\t\tbreak\n\treturn\n\n# emit event\nexport def emit obj, event, params\n\tif let cb = obj.#__listeners__\n\t\temit__(event,params,cb[event]) if cb[event]\n\t\temit__(event,[event,params],cb.all) if cb.all\n\treturn", "# imba$imbaPath=global\nlet rAF = global.requestAnimationFrame || (do(blk) setTimeout(blk,1000 / 60))\nlet FPS = 60\nlet SPF = 1 / 60\n\t\t\n# Scheduler\nclass Scheduled\n\towner = null\n\ttarget = null\n\tactive = no\n\tvalue = undefined\n\tskip = 0\n\tlast = 0\n\n\tdef tick scheduler\n\t\tlast = owner.#frames\n\t\ttarget.tick(owner)\n\t\t1\n\n\tdef update o, activate?\n\t\tlet on = active\n\t\tlet val = o.value\n\t\tlet changed = value != val\n\n\t\tif changed\n\t\t\tdeactivate!\n\t\t\tvalue = val\n\n\t\tif value or on or activate?\n\t\t\tactivate!\n\t\tself\n\n\tdef queue\n\t\towner.add(self)\n\t\treturn\n\n\tdef activate\n\t\tif value === yes\n\t\t\towner.on('commit',self)\n\t\telif value === no\n\t\t\tyes\n\t\telif typeof value == 'number'\n\t\t\t# duration\n\t\t\tlet tock = value / (1000 / 60)\n\t\t\tif tock <= 2 \n\t\t\t\towner.on('raf',self)\n\t\t\telse\n\t\t\t\t#interval = global.setInterval(queue.bind(self),value)\n\n\t\tactive = yes\n\t\tself\n\n\tdef deactivate\n\t\tif value === yes\n\t\t\towner.un('commit',self)\n\t\towner.un('raf',self)\n\n\t\tif #interval\n\t\t\tglobal.clearInterval(#interval)\n\t\t\t#interval = null\n\n\t\tactive = no\n\t\tself\n\nexport class Scheduler\n\tdef constructor\n\t\tid = Symbol!\n\t\tself.queue = []\n\t\tself.stage = -1\n\t\t#stage = -1\n\t\t#frames = 0\n\t\t#scheduled = no\n\t\t\n\t\tself.listeners = {}\n\t\tself.intervals = {}\n\t\tself.commit = do\n\t\t\tadd('commit')\n\t\t\treturn self\n\n\t\t#fps = 0\n\n\t\t$promise = null\n\t\t$resolve = null\n\t\t#ticker = do(e)\n\t\t\t#scheduled = no\n\t\t\tself.tick(e)\n\t\tself\n\n\tdef add item, force\n\t\tif force or self.queue.indexOf(item) == -1\n\t\t\tself.queue.push(item)\n\n\t\t#schedule! unless #scheduled\n\t\treturn self\n\n\tdef listen ns, item\n\t\tlet set = listeners[ns]\n\t\tlet first = !set\n\t\tset ||= listeners[ns] = new Set\n\t\tset.add(item)\n\n\t\tadd('raf') if ns == 'raf' and first\n\t\tself\t\n\n\tdef unlisten ns, item\n\t\tlet set = listeners[ns]\n\t\tset && set.delete(item)\n\t\tif ns == 'raf' and set and set.size == 0\n\t\t\tdelete listeners.raf\n\t\tself\n\n\tdef on ns,item\n\t\tlisten(ns,item)\n\n\tdef un ns,item\n\t\tunlisten(ns,item)\n\n\tget promise\n\t\t$promise ||= new Promise do(resolve)\n\t\t\t$resolve = resolve\n\n\tdef tick timestamp\n\t\tlet items = self.queue\n\t\tlet frame = #frames++\n\t\tself.ts = timestamp unless self.ts\n\t\tself.dt = timestamp - self.ts\n\t\tself.ts = timestamp\n\t\tself.queue = []\n\t\t#stage = 1\n\n\t\t# calculate frames elapsed since last tick etc?\n\n\t\tif items.length\n\t\t\tfor item,i in items\n\t\t\t\tif typeof item === 'string' && listeners[item]\n\t\t\t\t\tlisteners[item].forEach do |item|\n\t\t\t\t\t\tif item.tick isa Function\n\t\t\t\t\t\t\titem.tick(self)\n\t\t\t\t\t\telif item isa Function\n\t\t\t\t\t\t\titem(self)\n\t\t\t\telif item isa Function\n\t\t\t\t\titem(self.dt,self)\n\t\t\t\telif item.tick\n\t\t\t\t\titem.tick(self.dt,self)\n\n\t\t#stage = #scheduled ? 0 : -1\n\n\t\tif $promise\n\t\t\t$resolve(self)\n\t\t\t$promise = $resolve = null\n\n\t\tif listeners.raf and true\n\t\t\tadd('raf')\n\t\tself\n\n\tdef #schedule\n\t\tif !#scheduled\n\t\t\t#scheduled = yes\n\t\t\t#stage = 0 if #stage == -1\n\t\t\trAF(#ticker)\n\t\tself\n\n\tdef schedule item, o\n\t\to ||= (item[id] ||= {value: yes})\n\t\tlet state = o[id] ||= new Scheduled(owner: self, target: item)\n\t\tstate.update(o,yes)\n\n\tdef unschedule item, o = {}\n\t\to ||= item[id]\n\t\tlet state = o and o[id]\n\t\tif state and state.active\n\t\t\tstate.deactivate!\n\t\tself\n\nexport const scheduler = new Scheduler \n\nexport def commit\n\tscheduler.add('commit').promise\n\nexport def setTimeout fn,ms\n\tglobal.setTimeout(&,ms) do\n\t\tfn!\n\t\tcommit!\n\t\treturn\n\nexport def setInterval fn,ms\n\tglobal.setInterval(&,ms) do\n\t\tfn!\n\t\tcommit!\n\t\treturn\n\nexport const clearInterval = global.clearInterval\nexport const clearTimeout = global.clearTimeout", "class Manifest\n\tdef constructor\n\t\tdata = {}\n\nexport const manifest = new Manifest\n", "# create proxy\n\nimport {manifest} from './manifest'\n\nclass AssetProxy\n\tstatic def wrap meta\n\t\tlet handler = new AssetProxy(meta)\n\t\tnew Proxy(handler,handler)\n\n\tdef constructor meta\n\t\tmeta = meta\n\n\tget input\n\t\tmanifest.inputs[meta.input]\n\n\tget asset\n\t\tglobalThis._MF_ ? meta : input.asset\n\t\n\tdef set target, key, value\n\t\treturn true\n\n\tdef get target, key\n\t\tif meta.meta and meta.meta[key] != undefined\n\t\t\treturn meta.meta[key]\n\n\t\tasset[key]\n\nclass SVGAsset\n\tprop url\n\tprop meta\n\n\tdef adoptNode node\n\t\tif meta..content\n\t\t\tfor own k,v of meta.attributes\n\t\t\t\tnode.setAttribute(k,v)\n\t\t\tnode.innerHTML = meta.content\n\t\tself\n\t\n\tdef toString\n\t\turl\n\t\n\tdef toStyleString\n\t\t\"url({url})\"\n\n\nexport def asset data\n\tif data.#asset\n\t\treturn data.#asset\n\n\tif data.type == 'svg'\n\t\treturn data.#asset ||= new SVGAsset(data)\n\t\n\tif data.input\n\t\tlet extra = globalThis._MF_ and globalThis._MF_[data.input]\n\t\tif extra\n\t\t\tObject.assign(data,extra)\n\t\t\tdata.#asset = data\n\n\t\treturn data.#asset ||= AssetProxy.wrap(data)\n\t\n\treturn data", "export class Flags\n\n\tdef constructor dom\n\t\tdom = dom\n\t\tstring = \"\"\n\n\tdef contains ref\n\t\treturn dom.classList.contains(ref)\n\n\tdef add ref\n\t\treturn self if contains(ref)\n\t\tstring += (string ? ' ' : '') + ref\n\t\tdom.classList.add(ref)\n\t\t# sync!\n\t\treturn self\n\n\tdef remove ref\n\t\treturn self unless contains(ref)\n\t\tvar regex = new RegExp('(^|\\\\s)*' + ref + '(\\\\s|$)*', 'g')\n\t\tstring = string.replace(regex, '')\n\t\tdom.classList.remove(ref)\n\t\t# sync!\n\t\treturn self\n\n\tdef toggle ref, bool\n\t\tbool = !contains(ref) if bool === undefined\n\t\tbool ? add(ref) : remove(ref)\n\t\t\n\tdef incr ref\n\t\tlet m = stacks ||= {}\n\t\tlet c = m[ref] or 0\n\t\tadd(ref) if c < 1\n\t\treturn m[ref] = Math.max(c,0) + 1\n\t\n\tdef decr ref\n\t\tlet m = stacks ||= {}\n\t\tlet c = m[ref] or 0\n\t\tremove(ref) if c == 1\n\t\treturn m[ref] = Math.max(c,1) - 1\n\n\tdef valueOf\n\t\tstring\n\n\tdef toString\n\t\tstring\n\n\tdef sync\n\t\tdom.flagSync$!", "import {Flags} from './flags'\n\nexport const {\n\tEvent,\n\tUIEvent,\n\tMouseEvent,\n\tPointerEvent,\n\tKeyboardEvent,\n\tCustomEvent,\n\tNode,\n\tComment,\n\tText,\n\tElement,\n\tHTMLElement,\n\tHTMLHtmlElement,\n\tHTMLSelectElement,\n\tHTMLInputElement,\n\tHTMLTextAreaElement,\n\tHTMLButtonElement,\n\tHTMLOptionElement,\n\tHTMLScriptElement,\n\tSVGElement,\n\tDocumentFragment,\n\tShadowRoot,\n\tDocument,\n\tWindow,\n\tcustomElements\n} = global.window\n\n# export const document = global.window.document\nconst CustomTagConstructors = {}\nconst CustomTagToElementNames = {}\nexport const TYPES = {}\nexport const CUSTOM_TYPES = {}\nexport def get_document\n\tglobal.document\n\nexport def use_window\n\tyes\n\n\n\n# Basic node extensions\n\nconst contextHandler =\n\tdef get target, name\n\t\tlet ctx = target\n\t\tlet val = undefined\n\t\twhile ctx and val == undefined\n\t\t\tif ctx = ctx.#parent\n\t\t\t\tval = ctx[name]\n\t\treturn val\n\nextend class Document\n\tget flags\n\t\tself.documentElement.flags\n\nextend class Node\n\tget #parent\n\t\t##parent or this.parentNode or ##up # FIX\n\n\tget #context\n\t\t##context ||= new Proxy(self,contextHandler)\n\n\tdef #init\n\t\tself\n\n\t# replace this with something else\n\tdef replaceWith$ other\n\t\tif !(other isa Node) and other.replace$\n\t\t\tother.replace$(this)\n\t\telse\n\t\t\tself.parentNode.replaceChild(other,this)\n\t\treturn other\n\n\tdef insertInto$ parent\n\t\tparent.appendChild$(this)\n\t\treturn this\n\n\tdef insertBefore$ el, prev\n\t\tthis.insertBefore(el,prev)\n\n\tdef insertBeforeBegin$ other\n\t\tself.parentNode.insertBefore(other,this)\n\n\tdef insertAfterEnd$ other\n\t\tif self.nextSibling\n\t\t\tself.nextSibling.insertBeforeBegin$(other)\n\t\telse\n\t\t\tself.parentNode.appendChild(other)\n\t\n\tdef insertAfterBegin$ other\n\t\tif self.childNodes[0]\n\t\t\tself.childNodes[0].insertBeforeBegin$(other)\n\t\telse\n\t\t\tself.appendChild(other)\n\n\tget #placeholder__\n\t\t##placeholder__ ||= global.document.createComment(\"\")\n\n\tset #placeholder__ value\n\t\tlet prev = ##placeholder__\n\t\t##placeholder__ = value\n\t\tif prev and prev != value and prev.parentNode\n\t\t\tprev.replaceWith$(value)\n\n\tdef #attachToParent\n\t\tlet ph = #placeholder__\n\t\tif ph.parentNode and ph != self\n\t\t\tph.replaceWith$(self)\n\t\tself\n\n\tdef #detachFromParent route\n\t\tlet ph = #placeholder__\n\t\tif parentNode and ph != self\n\t\t\tself.replaceWith$(ph)\n\t\t\t# TODO add detached flag?\n\t\tself\n\n# Basic element extensions\nextend class Element\n\t\n\tdef log ...params\n\t\tconsole.log(...params)\n\t\tself\n\n\tdef emit name, detail, o = {bubbles: true, cancelable: true}\n\t\to.detail = detail if detail != undefined\n\t\tlet event = new CustomEvent(name, o)\n\t\tlet res = self.dispatchEvent(event)\n\t\treturn event\n\n\tdef slot$ name, ctx\n\t\treturn self\n\n\t# inline in files or remove all together?\n\tdef text$ item\n\t\tself.textContent = item\n\t\tself\n\n\tdef insert$ item, f, prev\n\t\tlet type = typeof item\n\n\t\tif type === 'undefined' or item === null\n\t\t\t# what if the prev value was the same?\n\t\t\tif prev and prev isa Comment # check perf\n\t\t\t\treturn prev\n\n\t\t\tlet el = document.createComment('')\n\t\t\tprev ? prev.replaceWith$(el) : el.insertInto$(this)\n\t\t\treturn el\n\n\t\t# dont reinsert again\n\t\tif item === prev\n\t\t\treturn item\n\n\t\t# what if this is null or undefined -- add comment and return? Or blank text node?\n\t\telif type !== 'object'\n\t\t\tlet res\n\t\t\tlet txt = item\n\t\t\t\n\t\t\tif (f & $TAG_FIRST_CHILD$) && (f & $TAG_LAST_CHILD$)\n\t\t\t\t# FIXME what if the previous one was not text? Possibly dangerous\n\t\t\t\t# when we set this on a fragment - it essentially replaces the whole\n\t\t\t\t# fragment?\n\t\t\t\tself.textContent = txt\n\t\t\t\treturn\n\n\t\t\tif prev\n\t\t\t\tif prev isa Text # check perf\n\t\t\t\t\tprev.textContent = txt\n\t\t\t\t\treturn prev\n\t\t\t\telse\n\t\t\t\t\tres = document.createTextNode(txt)\n\t\t\t\t\tprev.replaceWith$(res,self)\n\t\t\t\t\treturn res\n\t\t\telse\n\t\t\t\tself.appendChild$(res = document.createTextNode(txt))\n\t\t\t\treturn res\t\n\n\t\telse\n\t\t\tprev ? prev.replaceWith$(item,self) : item.insertInto$(self)\n\t\t\treturn item\n\t\treturn\n\n\tdef open$\n\t\tself\n\n\tdef close$\n\t\tself\n\n\tdef end$\n\t\tself.render() if self.render\n\t\treturn\n\n\tget flags\n\t\tunless $flags\n\t\t\t# unless deopted - we want to first cache the extflags\n\t\t\t$flags = new Flags(self)\n\t\t\tif flag$ == Element.prototype.flag$\n\t\t\t\tflags$ext = self.className\n\t\t\tflagDeopt$()\n\t\treturn $flags\n\n\tdef flag$ str\n\t\t# Potentially slow\n\t\tlet ns = flags$ns\n\t\tself.className = ns ? (ns + (flags$ext = str)) : (flags$ext = str)\n\t\treturn\n\t\t\n\tdef flagDeopt$\n\t\tself.flag$ = self.flagExt$ # do(str) self.flagSync$(flags$ext = str)\n\t\tself.flagSelf$ = do(str) self.flagSync$(flags$own = str)\n\t\treturn\n\t\t\n\tdef flagExt$ str\n\t\tself.flagSync$(flags$ext = str)\n\n\tdef flagSelf$ str\n\t\t# if a tag receives flags from inside <self> we need to\n\t\t# redefine the flag-methods to later use both\n\t\tflagDeopt$()\n\t\treturn flagSelf$(str)\n\n\tdef flagSync$\n\t\tself.className = ((flags$ns or '') + (flags$ext or '') + ' ' + (flags$own || '') + ' ' + ($flags or ''))\n\n\nElement.prototype.appendChild$  = Element.prototype.appendChild\nElement.prototype.removeChild$  = Element.prototype.removeChild\nElement.prototype.insertBefore$ = Element.prototype.insertBefore\nElement.prototype.replaceChild$ = Element.prototype.replaceChild\nElement.prototype.set$ = Element.prototype.setAttribute\nElement.prototype.setns$ = Element.prototype.setAttributeNS\n\nexport def createElement name, parent, flags, text\n\tlet el = document.createElement(name)\n\t\t\n\tel.className = flags if flags\n\n\tif text !== null\n\t\tel.text$(text)\n\n\tif parent and parent isa Node\n\t\tel.insertInto$(parent)\n\n\treturn el\n\n\nconst descriptorCache = {}\ndef getDescriptor item,key,cache\n\tif !item\n\t\treturn cache[key] = null\n\n\tif cache[key] !== undefined\n\t\treturn cache[key]\n\t\n\tlet desc = Object.getOwnPropertyDescriptor(item,key)\n\n\tif desc !== undefined or item == SVGElement\n\t\treturn cache[key] = desc or null\n\n\tgetDescriptor(Reflect.getPrototypeOf(item),key,cache)\n\nextend class SVGElement\n\n\tdef set$ key,value\n\t\tlet cache = descriptorCache[nodeName] ||= {}\n\t\tlet desc = getDescriptor(this,key,cache)\n\n\t\tif !desc or !desc.set\n\t\t\tsetAttribute(key,value)\n\t\telse\n\t\t\tself[key] = value\n\t\treturn\n\n\tdef flag$ str\n\t\tlet ns = flags$ns\n\t\tself.className.baseVal = ns ? (ns + (flags$ext = str)) : (flags$ext = str)\n\t\treturn\n\n\tdef flagSelf$ str\n\t\t# if a tag receives flags from inside <self> we need to\n\t\t# redefine the flag-methods to later use both\n\t\tself.flag$ = do(str) self.flagSync$(flags$ext = str)\n\t\tself.flagSelf$ = do(str) self.flagSync$(flags$own = str)\n\t\treturn flagSelf$(str)\n\n\tdef flagSync$\n\t\tself.className.baseVal = ((flags$ns or '') + (flags$ext or '') + ' ' + (flags$own || '') + ' ' + ($flags or ''))\n\n\nextend class SVGSVGElement\n\n\tset src value\n\t\tif #src =? value\n\t\t\tif value..adoptNode\n\t\t\t\tvalue.adoptNode(self)\n\t\t\telif value..content\n\t\t\t\tfor own k,v of value.attributes\n\t\t\t\t\tsetAttribute(k,v)\n\t\t\t\tinnerHTML = value.content\n\t\treturn\n\n\t\t\n\nexport def createSVGElement name, parent, flags, text, ctx\n\tlet el = document.createElementNS(\"http://www.w3.org/2000/svg\",name)\n\n\tif flags\n\t\tel.className.baseVal = flags\n\n\tif parent and parent isa Node\n\t\tel.insertInto$(parent)\n\n\tif text\n\t\tel.textContent = text\n\n\treturn el\n\nexport def createComment text\n\tdocument.createComment(text)\n\nexport def createFragment\n\tdocument.createDocumentFragment!\n\n\n\nconst vendor = global.navigator..vendor or ''\nconst ua = global.navigator..userAgent or ''\n\nconst isSafari = vendor.indexOf('Apple') > -1 || ua.indexOf('CriOS') >= 0 || ua.indexOf('FxiOS') >= 0\nconst supportsCustomizedBuiltInElements = !isSafari\nconst CustomDescriptorCache = new Map\n\nclass CustomHook < HTMLElement\n\tdef connectedCallback\n\t\tif supportsCustomizedBuiltInElements\n\t\t\tparentNode.removeChild(self)\n\t\telse\n\t\t\tparentNode.connectedCallback!\n\n\tdef disconnectedCallback\n\t\tif !supportsCustomizedBuiltInElements\n\t\t\tparentNode.disconnectedCallback!\n\nwindow.customElements.define('i-hook',CustomHook)\n\ndef getCustomDescriptors el, klass\n\tlet props = CustomDescriptorCache.get(klass)\n\n\tunless props\n\t\tprops = {}\n\t\tlet proto = klass.prototype\n\t\tlet protos = [proto]\n\t\twhile proto = (proto and Object.getPrototypeOf(proto))\n\t\t\tbreak if proto.constructor == el.constructor\n\t\t\tprotos.unshift(proto)\n\n\t\tfor item in protos\n\t\t\tlet desc = Object.getOwnPropertyDescriptors(item)\n\t\t\tObject.assign(props,desc)\n\t\tCustomDescriptorCache.set(klass,props)\n\n\treturn props\n\n# Registry\nexport def createComponent name, parent, flags, text, ctx\n\t# the component could have a different web-components name?\n\tlet el\n\t\n\tif typeof name != 'string'\n\t\tif name and name.nodeName\n\t\t\tname = name.nodeName\n\n\tlet cmpname = CustomTagToElementNames[name] or name\n\n\tif CustomTagConstructors[name]\n\t\tlet cls = CustomTagConstructors[name]\n\t\tlet typ = cls.prototype.#htmlNodeName\n\t\tif typ and supportsCustomizedBuiltInElements\n\t\t\tel = document.createElement(typ,is: name)\n\t\telif cls.create$ and typ\n\t\t\tel = document.createElement(typ)\n\t\t\tel.setAttribute('is',cmpname)\n\t\t\tlet props = getCustomDescriptors(el,cls)\n\t\t\tObject.defineProperties(el,props)\n\t\t\tel.__slots = {}\n\t\t\t# check if we need a hook though?\n\t\t\tel.appendChild(document.createElement('i-hook'))\n\t\telif cls.create$\n\t\t\tel = cls.create$(el)\n\t\t\tel.__slots = {}\n\t\telse\n\t\t\tconsole.warn \"could not create tag {name}\"\n\telse\n\t\tel = document.createElement(CustomTagToElementNames[name] or name)\n\n\tel.##parent = parent\n\tel.#init!\n\n\tif text !== null\n\t\tel.slot$('__').text$(text)\n\t\t\n\tif flags or el.flags$ns # or nsflag\n\t\tel.flag$(flags or '')\n\treturn el\n\nexport def getTagType name, klass\n\t# TODO follow same structure as ssr TYPES\n\tif TYPES[name]\n\t\treturn TYPES[name]\n\n\tif window[klass]\n\t\treturn window[klass]\n\n\tif window[name]\n\t\treturn window[name]\n\nexport def getSuperTagType name, klass, cmp\n\tlet typ = getTagType(name,klass)\n\tlet custom = typ == cmp or typ.prototype isa cmp or typ.prototype.#htmlNodeName\n\n\tif !custom\n\t\tlet cls = typ.prototype.#ImbaElement\n\n\t\tif !cls\n\t\t\tcls = class CustomBuiltInElement < typ\n\t\t\t\tdef constructor\n\t\t\t\t\tsuper\n\t\t\t\t\t__slots = {}\n\t\t\t\t\t__F = 0\n\n\t\t\ttyp.prototype.#ImbaElement = cls\n\t\t\tlet descriptors = Object.getOwnPropertyDescriptors(cmp.prototype)\n\t\t\tObject.defineProperties(cls.prototype,descriptors)\n\t\t\tcls.prototype.#htmlNodeName = name\n\n\t\treturn cls\n\n\treturn typ\n\nexport def defineTag name, klass, options = {}\n\tTYPES[name] = CUSTOM_TYPES[name] = klass\n\n\tklass.nodeName = name\n\n\tlet componentName = name\n\tlet proto = klass.prototype\n\n\tif name.indexOf('-') == -1\n\t\tcomponentName = \"{name}-tag\"\n\t\tCustomTagToElementNames[name] = componentName\n\n\tlet basens = proto._ns_\n\tif options.ns\n\t\tlet ns = options.ns\n\t\tlet flags = ns + ' ' + ns + '_ '\n\t\tif basens\n\t\t\tflags += proto.flags$ns \n\t\t\tns += ' ' + basens\n\t\tproto._ns_ = ns\n\t\tproto.flags$ns = flags\n\n\tif proto.#htmlNodeName\n\t\toptions.extends = proto.#htmlNodeName\n\n\tif options.extends\n\t\tproto.#htmlNodeName = options.extends\n\t\tCustomTagConstructors[name] = klass\n\n\t\tif supportsCustomizedBuiltInElements\n\t\t\twindow.customElements.define(componentName,klass,extends: options.extends)\n\telse\n\t\twindow.customElements.define(componentName,klass)\n\n\treturn klass", "import {Element,Text,DocumentFragment,createFragment,createComment} from './core'\n\nextend class DocumentFragment\n\n\tget #parent\n\t\t##up or ##parent\n\n\t# Called to make a documentFragment become a live fragment\n\tdef setup$ flags, options\n\t\t$start = createComment('start')\n\t\t$end = createComment('end')\n\n\t\t$end.replaceWith$ = do(other)\n\t\t\tthis.parentNode.insertBefore(other,this)\n\t\t\treturn other\n\n\t\tthis.appendChild($start)\n\t\tthis.appendChild($end)\n\t\n\t# when we for sure know that the only content should be\n\t# a single text node\n\tdef text$ item\n\t\tunless $text\n\t\t\t$text = this.insert$(item)\n\t\telse\n\t\t\t$text.textContent = item\n\t\treturn\n\t\n\tdef insert$ item, options, toReplace\n\t\tif ##parent\n\t\t\t# if the fragment is attached to a parent\n\t\t\t# we can just proxy the call through\n\t\t\t##parent.insert$(item,options,toReplace or $end)\n\t\telse\n\t\t\tElement.prototype.insert$.call(this,item,options,toReplace or $end)\n\n\tdef insertInto$ parent, before\n\t\tunless ##parent\n\t\t\t##parent = parent\n\t\t\t# console.log 'insertFrgment into',parent,Array.from(self.childNodes)\n\t\t\tparent.appendChild$(this)\n\t\treturn this\n\n\tdef replaceWith$ other, parent\n\t\t$start.insertBeforeBegin$(other)\n\t\tvar el = $start\n\t\twhile el\n\t\t\tlet next = el.nextSibling\n\t\t\tself.appendChild(el)\n\t\t\tbreak if el == $end\n\t\t\tel = next\n\t\t\t\n\t\treturn other\n\n\tdef appendChild$ child\n\t\t$end ? $end.insertBeforeBegin$(child) : self.appendChild(child)\n\t\treturn child\n\n\tdef removeChild$ child\n\t\tchild.parentNode && child.parentNode.removeChild(child)\n\t\tself\n\n\tdef isEmpty$\n\t\tlet el = $start\n\t\tlet end = $end\n\n\t\twhile el = el.nextSibling\n\t\t\tbreak if el == end\n\t\t\treturn false if el isa Element or el isa Text\n\t\treturn true\n\nclass VirtualFragment\n\tdef constructor f, parent\n\t\t__F = f\n\t\t#parent = parent\n\n\tdef appendChild$ item, index\n\t\t# we know that these items are dom elements\n\t\tif $end and #parent\n\t\t\t$end.insertBeforeBegin$(item)\n\t\telif #parent\n\t\t\t#parent.appendChild$(item)\n\t\treturn\n\n\tdef replaceWith$ other\n\t\tself.detachNodes()\n\t\t$end.insertBeforeBegin$(other)\n\t\t#parent.removeChild$($end)\n\t\t#parent = null\n\t\treturn\n\n\tdef joinBefore$ before\n\t\tself.insertInto$(before.parentNode,before)\n\n\tdef insertInto$ parent, before\n\t\tunless #parent\n\t\t\t#parent = parent\n\t\t\tbefore ? before.insertBeforeBegin$($end) : parent.appendChild$($end)\n\t\t\tself.attachNodes()\n\t\treturn this\n\t\n\tdef replace$ other\n\t\tunless #parent\n\t\t\t#parent = other.parentNode\n\t\tother.replaceWith$($end)\n\t\tself.attachNodes()\n\t\tself\n\t\t\n\tdef setup\n\t\tself\n\nclass KeyedTagFragment < VirtualFragment\n\t\n\tdef constructor f, parent\n\t\tsuper\n\n\t\tif !(f & $TAG_FIRST_CHILD$)\n\t\t\t$start = createComment('start')\n\t\t\tparent.appendChild$($start) if parent\n\n\t\tunless f & $TAG_LAST_CHILD$\n\t\t\t$end = createComment('end')\n\t\t\tparent.appendChild$($end) if parent\n\n\t\tself.setup()\n\n\tdef setup\n\t\tself.array = []\n\t\tself.changes = new Map\n\t\tself.dirty = no\n\t\tself.$ = {}\n\n\tdef push item, idx\n\t\t# on first iteration we can merely run through\n\t\tunless __F & $TAG_INITED$\n\t\t\tself.array.push(item)\n\t\t\tself.appendChild$(item)\n\t\t\treturn\n\n\t\tlet toReplace = self.array[idx]\n\n\t\tif toReplace === item\n\t\t\tyes\n\t\telse\n\t\t\tself.dirty = yes\n\t\t\t# if this is a new item\n\t\t\tlet prevIndex = self.array.indexOf(item)\n\t\t\tlet changed = self.changes.get(item)\n\n\t\t\tif prevIndex === -1\n\t\t\t\t# should we mark the one currently in slot as removed?\n\t\t\t\tself.array.splice(idx,0,item)\n\t\t\t\tself.insertChild(item,idx)\n\n\t\t\telif prevIndex === idx + 1\n\t\t\t\tif toReplace\n\t\t\t\t\tself.changes.set(toReplace,-1)\n\t\t\t\tself.array.splice(idx,1)\n\n\t\t\telse\n\t\t\t\tself.array.splice(prevIndex,1) if prevIndex >= 0\n\t\t\t\tself.array.splice(idx,0,item)\n\t\t\t\tself.insertChild(item,idx)\n\n\t\t\tif changed == -1\n\t\t\t\tself.changes.delete(item)\n\t\treturn\n\n\tdef insertChild item, index\n\t\tif index > 0\n\t\t\tlet other = self.array[index - 1]\n\t\t\t# will fail with text nodes\n\t\t\tother.insertAfterEnd$(item)\n\t\telif $start\n\t\t\t$start.insertAfterEnd$(item)\n\t\telse\n\t\t\t#parent.insertAfterBegin$(item)\n\t\treturn\n\n\tdef removeChild item, index\n\t\t# self.map.delete(item)\n\t\t# what if this is a fragment or virtual node?\n\t\tif item.parentNode == #parent\n\t\t\t#parent.removeChild(item)\n\t\treturn\n\n\tdef attachNodes\n\t\tfor item,i in self.array\n\t\t\t$end.insertBeforeBegin$(item)\n\t\treturn\n\n\tdef detachNodes\n\t\tfor item in self.array\n\t\t\t#parent.removeChild(item)\n\t\treturn\n\n\tdef end$ index\n\t\tunless __F & $TAG_INITED$\n\t\t\t__F |= $TAG_INITED$\n\t\t\treturn\n\n\t\tif self.dirty\n\t\t\tself.changes.forEach do |pos,item|\n\t\t\t\tif pos == -1\n\t\t\t\t\tself.removeChild(item)\n\t\t\tself.changes.clear()\n\t\t\tself.dirty = no\n\n\t\t# there are some items we should remove now\n\t\tif self.array.length > index\n\t\t\t\n\t\t\t# remove the children below\n\t\t\twhile self.array.length > index\n\t\t\t\tlet item = self.array.pop()\n\t\t\t\tself.removeChild(item)\n\t\t\t# self.array.length = index\n\t\treturn\n\nclass IndexedTagFragment < VirtualFragment\n\n\tdef constructor f, parent\n\t\tsuper\n\n\t\tunless f & $TAG_LAST_CHILD$\n\t\t\t$end = createComment('end')\n\t\t\tparent.appendChild$($end) if parent\n\n\t\tself.setup()\n\n\tdef setup\n\t\tself.$ = []\n\t\tself.length = 0\n\n\tdef end$ len\n\t\tlet from = self.length\n\t\treturn if from == len or !#parent\n\t\tlet array = self.$\n\t\tlet par = #parent\n\n\t\tif from > len\n\t\t\twhile from > len\n\t\t\t\tpar.removeChild$(array[--from])\n\t\telif len > from\n\t\t\twhile len > from\n\t\t\t\tself.appendChild$(array[from++])\n\t\tself.length = len\n\t\treturn\n\n\tdef attachNodes\n\t\tfor item,i in self.$\n\t\t\tbreak if i == self.length\n\t\t\t$end.insertBeforeBegin$(item)\n\t\treturn\n\n\tdef detachNodes\n\t\tlet i = 0\n\t\twhile i < self.length\n\t\t\tlet item = self.$[i++]\n\t\t\t#parent.removeChild$(item)\n\t\treturn\n\nexport def createLiveFragment bitflags, options, par\n\tconst el = createFragment!\n\tel.setup$(bitflags, options)\n\tel.##up = par if par\n\treturn el\n\nexport def createIndexedFragment bitflags, parent\n\treturn new IndexedTagFragment(bitflags,parent)\n\nexport def createKeyedFragment bitflags, parent\n\treturn new KeyedTagFragment(bitflags,parent)\n\n\n", "import {Node,HTMLElement,CUSTOM_TYPES} from './core'\nimport {createLiveFragment} from './fragment'\nimport {scheduler} from '../scheduler'\n\nconst hydrator = new class\n\titems = []\n\tcurrent = null\n\tlastQueued = null\n\ttests = 0\n\n\tdef flush\n\t\tlet item = null\n\n\t\tif false\n\t\t\tconsole.log 'flush hydrate',items,tests\n\t\t\tfor item,i in items\n\t\t\t\tlet next = items[i + 1]\n\t\t\t\tif next\n\t\t\t\t\tunless next.compareDocumentPosition(item) & Node.DOCUMENT_POSITION_PRECEDING\n\t\t\t\t\t\tconsole.log \"WRONG ORDER!!!\",item,next,next.compareDocumentPosition(item)\n\n\t\twhile item = items.shift!\n\t\t\tcontinue if !item.parentNode or item.hydrated?\n\t\t\t# Mark as inited to stop connectedCallback from early exit\n\t\t\tlet prev = current\n\t\t\tcurrent = item\n\t\t\titem.__F |= $EL_SSR$\n\t\t\titem.connectedCallback!\n\t\t\tcurrent = prev\n\t\treturn\n\n\tdef queue item\n\t\t# let len = items.push(item)\n\t\tlet len = items.length\n\t\tlet idx = 0\n\t\tlet prev = lastQueued\n\t\tlastQueued = item\n\n\t\tlet BEFORE = Node.DOCUMENT_POSITION_PRECEDING\n\t\tlet AFTER = Node.DOCUMENT_POSITION_FOLLOWING\n\n\t\tif len\n\t\t\tlet prevIndex = items.indexOf(prev)\n\t\t\tlet index = prevIndex\n\n\t\t\tlet compare = do(a,b)\n\t\t\t\ttests++\n\t\t\t\ta.compareDocumentPosition(b)\n\n\t\t\tif prevIndex == -1 or prev.nodeName != item.nodeName\n\t\t\t\tindex = prevIndex = 0\n\n\t\t\tlet curr = items[index]\n\n\t\t\twhile curr and compare(curr,item) & AFTER\n\t\t\t\tcurr = items[++index]\n\n\t\t\tif index != prevIndex\n\t\t\t\tcurr ? items.splice(index,0,item) : items.push(item)\n\t\t\telse\n\t\t\t\twhile curr and compare(curr,item) & BEFORE\n\t\t\t\t\tcurr = items[--index]\n\t\t\t\tif index != prevIndex\n\t\t\t\t\tcurr ? items.splice(index + 1,0,item) : items.unshift(item)\n\t\telse\n\t\t\titems.push(item)\n\t\t\tglobal.queueMicrotask(flush.bind(self)) if !current\n\n\t\treturn\n\n\tdef run item\n\t\treturn if active\n\t\t# look for parents that are still hydrated\n\t\t# only the ssr elements that are not yet awakened\n\t\tactive = yes\n\t\t# let all = global.document.getElementsByClassName('__ssr')\n\t\tlet all = global.document.querySelectorAll('.__ssr')\n\t\tconsole.log 'running hydrator',item,all.length,Array.from(all)\n\n\t\tfor item in all\n\t\t\titem.#count ||= 1\n\t\t\titem.#count++\n\t\t\tlet name = item.nodeName\n\t\t\tlet typ = map[name] ||= global.window.customElements.get(name.toLowerCase!) or HTMLElement\n\t\t\tconsole.log 'item type',name,typ,!!CUSTOM_TYPES[name.toLowerCase!]\n\t\t\t# console.log 'hydrate??',item.constructor\n\t\t\tcontinue if !item.connectedCallback or !item.parentNode or item.hydrated?\n\t\t\tconsole.log 'hydrate',item # !!item.parentNode,item,item.connectedCallback\n\t\t\t# item.connectedCallback!\n\n\t\tactive = no\n\nexport def hydrate\n\thydrator.flush!\n\nexport class ImbaElement < HTMLElement\n\tdef constructor\n\t\tsuper()\n\t\tif flags$ns\n\t\t\t# explain?\n\t\t\tflag$ = flagExt$\n\n\t\tsetup$()\n\t\tbuild()\n\n\tdef setup$\n\t\t__slots = {}\n\t\t__F = 0\n\n\tdef #init\n\t\t__F |= ($EL_INITED$ | $EL_HYDRATED$)\n\t\tself\n\t\t\n\tdef flag$ str\n\n\t\tself.className = flags$ext = str\n\t\treturn\n\n\t# returns the named slot - for context\n\tdef slot$ name, ctx\n\t\tif name == '__' and !render\n\t\t\treturn self\n\n\t\t__slots[name] ||= createLiveFragment(0,null,self)\n\n\t# called immediately after construction \n\tdef build\n\t\tself\n\n\t# called before the first mount\n\tdef awaken\n\t\tself\n\t\n\t# called when element is attached to document\n\tdef mount\n\t\tself\n\n\tdef unmount\n\t\tself\n\n\t# called after render\n\tdef rendered\n\t\tself\n\n\t# called before element is stringified on server (SSR)\n\tdef dehydrate\n\t\tself\n\n\t# called before awaken if element was not initially created via imba - on the client\n\tdef hydrate\n\t\t# should only autoschedule if we are not awakening inside a parent context that\n\t\tautoschedule = yes\n\t\tself\n\n\tdef tick\n\t\tcommit()\n\n\t# called when component is (re-)rendered from its parent\n\tdef visit\n\t\tcommit()\n\n\t# Wrapper for rendering. Default implementation\n\tdef commit\n\t\tunless render?\n\t\t\t__F |= $EL_UNRENDERED$\n\t\t\treturn self\n\t\t__F |= $EL_RENDERING$ \n\t\trender && render()\n\t\trendered()\n\t\t__F = (__F | $EL_RENDERED$) & ~$EL_RENDERING$ & ~$EL_UNRENDERED$\n\n\tget autoschedule\n\t\t(__F & $EL_SCHEDULE$) != 0\n\t\n\tset autoschedule value\n\t\tvalue ? (__F |= $EL_SCHEDULE$) : (__F &= ~$EL_SCHEDULE$)\n\n\t###\n\tNaming and accepted values will likely change - experimental\n\n\tyes = render on events / imba.commit\n\tno = force manual render\n\tnull / undefined = render via parent\n\t(n)s = render every n s\n\t(n)ms = render every n ms\n\t(n)fps = render n times per second\n\t###\n\tset autorender value\n\t\tlet o = #autorender ||= {}\n\t\to.value = value\n\t\tscheduler.schedule(self,o) if mounted?\n\t\treturn\n\n\tget render?\n\t\treturn !suspended?\n\n\tget mounting?\n\t\treturn (__F & $EL_MOUNTING$) != 0\n\n\tget mounted?\n\t\treturn (__F & $EL_MOUNTED$) != 0\n\t\n\tget awakened?\n\t\treturn (__F & $EL_AWAKENED$) != 0\n\t\n\tget rendered?\n\t\treturn (__F & $EL_RENDERED$) != 0\n\n\tget suspended?\n\t\treturn (__F & $EL_SUSPENDED$) != 0\n\n\tget rendering?\n\t\treturn (__F & $EL_RENDERING$) != 0\n\t\n\tget scheduled?\n\t\treturn (__F & $EL_SCHEDULED$) != 0\n\n\tget hydrated?\n\t\treturn (__F & $EL_HYDRATED$) != 0\n\n\tget ssr?\n\t\treturn (__F & $EL_SSR$) != 0\n\n\tdef schedule\n\t\tscheduler.on('commit',self)\n\t\t__F |= $EL_SCHEDULED$\n\t\treturn self\n\n\tdef unschedule\n\t\tscheduler.un('commit',self)\n\t\t__F &= ~$EL_SCHEDULED$\n\t\treturn self\n\n\tdef suspend cb = null\n\t\tlet val = flags.incr('_suspended_')\n\t\t__F |= $EL_SUSPENDED$\n\t\tif cb isa Function\n\t\t\tawait cb()\n\t\t\tunsuspend!\n\t\tself\n\n\tdef unsuspend\n\t\tlet val = flags.decr('_suspended_')\n\t\tif val == 0\n\t\t\t__F &= ~$EL_SUSPENDED$\n\t\t\tcommit! if $EL_UNRENDERED$\n\n\t\tself\n\n\tdef end$\n\t\tvisit()\n\n\tdef open$\n\t\tif __F & $EL_SSR$\n\t\t\t__F = __F & ~$EL_SSR$\n\t\t\t# remove flag\n\t\t\tclassList.remove('_ssr_')\n\t\t\tif flags$ext and flags$ext.indexOf('_ssr_') == 0\n\t\t\t\tflags$ext = flags$ext.slice(5)\n\t\t\tinnerHTML = ''\n\t\tself\n\n\tdef connectedCallback\n\t\tlet flags = __F\n\t\tlet inited = flags & $EL_INITED$\n\t\tlet awakened = flags & $EL_AWAKENED$\n\n\t\tif !inited and !(flags & $EL_SSR$)\n\t\t\thydrator.queue(self)\n\t\t\treturn\n\n\t\t# return if we are already in the process of mounting - or have mounted\n\t\tif flags & ($EL_MOUNTING$ | $EL_MOUNTED$)\n\t\t\treturn\n\t\t\n\t\t__F |= $EL_MOUNTING$\n\n\t\tunless inited\n\t\t\t#init!\n\n\t\tunless flags & $EL_HYDRATED$\n\t\t\t# clearly seems wrong?\n\t\t\tflags$ext = className\n\t\t\t__F |= $EL_HYDRATED$\n\t\t\tself.hydrate()\n\t\t\tcommit()\n\n\t\tunless awakened\n\t\t\tawaken()\n\t\t\t__F |= $EL_AWAKENED$\n\n\t\tlet res = mount()\n\t\tif res && res.then isa Function\n\t\t\tres.then(scheduler.commit)\n\n\t\tflags = __F = (__F | $EL_MOUNTED$) & ~$EL_MOUNTING$\n\t\t\n\t\tif flags & $EL_SCHEDULE$\n\t\t\tschedule()\n\t\t\n\t\t\n\t\tscheduler.schedule(self,#autorender) if #autorender\n\t\treturn this\n\n\tdef disconnectedCallback\n\t\t__F = __F & (~$EL_MOUNTED$ & ~$EL_MOUNTING$)\n\t\tif __F & $EL_SCHEDULED$\n\t\t\t# trigger potential unschedule listeners\n\t\t\tunschedule()\n\n\t\tunmount()\n\t\tscheduler.unschedule(self,#autorender) if #autorender", "import {Element} from './core'\n\n# imba$imbaPath=global\nconst VALID_CSS_UNITS = {\n\tcm:1\n\tmm:1\n\tQ:1\n\tpc:1\n\tpt:1\n\tpx:1\n\tem:1\n\tex:1\n\tch:1\n\trem:1\n\tvw:1\n\tvh:1\n\tvmin:1\n\tvmax:1\n\ts:1\n\tms:1\n\tfr:1\n\t'%':1\n\t'in':1\n\tturn:1\n\tgrad:1\n\trad:1\n\tdeg:1\n\tHz:1\n\tkHz:1\n}\n\nconst CSS_DEFAULT_UNITS = {\n\tx:'px'\n\ty:'px'\n\tz:'px'\n\trotate:'turn'\n}\n\nconst CSS_STR_PROPS = {\n\tprefix:1\n\tsuffix:1\n\tcontent:1\n}\n\n# hsl map of colors for runtime css coloring\nconst CSS_COLORS = {\n\trose:      [[356,100,97],[356,100,95],[353,96,90],[353,96,82],[351,95,71],[350,89,60],[347,77,50],[345,83,41],[343,80,35],[342,75,30]]\n\tpink:      [[327,73,97],[326,78,95],[326,85,90],[327,87,82],[329,86,70],[330,81,60],[333,71,51],[335,78,42],[336,74,35],[336,69,30]]\n\tfuchsia:   [[289,100,98],[287,100,95],[288,96,91],[291,93,83],[292,91,73],[292,84,61],[293,69,49],[295,72,40],[295,70,33],[297,64,28]]\n\tpurple:    [[270,100,98],[269,100,95],[269,100,92],[269,97,85],[270,95,75],[271,91,65],[271,81,56],[272,72,47],[273,67,39],[274,66,32]]\n\tviolet:    [[250,100,98],[251,91,95],[251,95,92],[252,95,85],[255,92,76],[258,90,66],[262,83,58],[263,70,50],[263,69,42],[264,67,35]]\n\tindigo:    [[226,100,97],[226,100,94],[228,96,89],[230,94,82],[234,89,74],[239,84,67],[243,75,59],[245,58,51],[244,55,41],[242,47,34]]\n\tblue:      [[214,100,97],[214,95,93],[213,97,87],[212,96,78],[213,94,68],[217,91,60],[221,83,53],[224,76,48],[226,71,40],[224,64,33]]\n\tsky: [[204,100,97],[204,94,94],[201,94,86],[199,95,74],[198,93,60],[199,89,48],[200,98,39],[201,96,32],[201,90,27],[202,80,24]]\n\tcyan:      [[183,100,96],[185,96,90],[186,94,82],[187,92,69],[188,86,53],[189,94,43],[192,91,36],[193,82,31],[194,70,27],[196,64,24]]\n\tteal:      [[166,76,97],[167,85,89],[168,84,78],[171,77,64],[172,66,50],[173,80,40],[175,84,32],[175,77,26],[176,69,22],[176,61,19]]\n\temerald:   [[152,81,96],[149,80,90],[152,76,80],[156,72,67],[158,64,52],[160,84,39],[161,94,30],[163,94,24],[163,88,20],[164,86,16]]\n\tgreen:     [[138,76,97],[141,84,93],[141,79,85],[142,77,73],[142,69,58],[142,71,45],[142,76,36],[142,72,29],[143,64,24],[144,61,20]]\n\tlime:      [[78,92,95],[80,89,89],[81,88,80],[82,85,67],[83,78,55],[84,81,44],[85,85,35],[86,78,27],[86,69,23],[88,61,20]]\n\tyellow:    [[55,92,95],[55,97,88],[53,98,77],[50,98,64],[48,96,53],[45,93,47],[41,96,40],[35,92,33],[32,81,29],[28,73,26]]\n\tamber:     [[48,100,96],[48,96,89],[48,97,77],[46,97,65],[43,96,56],[38,92,50],[32,95,44],[26,90,37],[23,83,31],[22,78,26]]\n\torange:    [[33,100,96],[34,100,92],[32,98,83],[31,97,72],[27,96,61],[25,95,53],[21,90,48],[17,88,40],[15,79,34],[15,75,28]]\n\tred:       [[0,86,97],[0,93,94],[0,96,89],[0,94,82],[0,91,71],[0,84,60],[0,72,51],[0,74,42],[0,70,35],[0,63,31]]\n\twarmer:  [[60,9,98],[60,5,96],[20,6,90],[24,6,83],[24,5,64],[25,5,45],[33,5,32],[30,6,25],[12,6,15],[24,10,10]]\n\twarm:  [[0,0,98],[0,0,96],[0,0,90],[0,0,83],[0,0,64],[0,0,45],[0,0,32],[0,0,25],[0,0,15],[0,0,9]]\n\tgray:      [[0,0,98],[240,5,96],[240,6,90],[240,5,84],[240,5,65],[240,4,46],[240,5,34],[240,5,26],[240,4,16],[240,6,10]]\n\tcool:  [[210,20,98],[220,14,96],[220,13,91],[216,12,84],[218,11,65],[220,9,46],[215,14,34],[217,19,27],[215,28,17],[221,39,11]]\n\tcooler:  [[210,40,98],[210,40,96],[214,32,91],[213,27,84],[215,20,65],[215,16,47],[215,19,35],[215,25,27],[217,33,17],[222,47,11]]\n\t\n}\n\nconst CSS_COLORS_REGEX = new RegExp(\"^({Object.keys(CSS_COLORS).join('|')})(\\\\d+(?:\\\\.\\\\d+)?)$\")\n\nconst CSS_PX_PROPS = /^([xyz])$/\nconst CSS_DIM_PROPS = /^([tlbr]|size|[whtlbr]|[mps][tlbrxy]?|[rcxy]?[gs])$/\n\nconst resets = '''*,::before,::after {\n\tbox-sizing: border-box;\n\tborder-width: 0;\n\tborder-style: solid;\n\tborder-color: currentColor;\n}'''\n\nclass Styles\n\tentries = {}\n\n\tdef register id, styles\n\t\tlet entry = entries[id]\n\n\t\tif !entry\n\t\t\tentry = entries[id] = {sourceId: id, css: styles}\n\n\t\t\tif !entries.resets\n\t\t\t\tregister('resets',resets)\n\n\t\t\tif $web$\n\t\t\t\tentry.node = document.createElement('style')\n\t\t\t\tentry.node.textContent = entry.css\n\t\t\t\tdocument.head.appendChild(entry.node)\n\n\t\telif entry\n\t\t\t# if it was already registered - we update the content\n\t\t\t# and on the web \u2013 replace the actual styles\n\t\t\tentry.css = styles\n\t\t\tif entry.node\n\t\t\t\tentry.node.textContent = styles\n\t\treturn\n\n\tdef toString\n\t\tObject.values(entries).map(do $1.css).join('\\n\\n')\n\n\tdef toValue value, unit, key, param = null\n\t\tif CSS_STR_PROPS[key]\n\t\t\tvalue = String(value)\n\n\t\tlet typ = typeof value\n\t\t\t\n\t\tif typ == 'number'\n\t\t\tif !unit\n\t\t\t\tif CSS_PX_PROPS.test(key)\n\t\t\t\t\tunit = 'px'\n\t\t\t\telif CSS_DIM_PROPS.test(key)\n\t\t\t\t\tunit = 'u'\n\t\t\t\telif key == 'rotate'\n\t\t\t\t\tunit = 'turn'\n\t\t\t\t\tvalue = value.toFixed(4)\n\n\t\t\tif unit\n\t\t\t\tif VALID_CSS_UNITS[unit]\n\t\t\t\t\t# what if the unit is already set?\n\t\t\t\t\treturn value + unit\n\t\t\t\telif unit == 'u'\n\t\t\t\t\treturn value * 4 + 'px'\n\t\t\t\telse\n\t\t\t\t\treturn \"calc(var(--u_{unit},1px) * {value})\"\n\t\t\telse\n\t\t\t\tyes\t\n\t\t\t\n\t\telif typ == 'string'\n\t\t\tif key and CSS_STR_PROPS[key] and value[0] != '\"' and value[0] != \"'\"\n\t\t\t\tif value.indexOf('\"') >= 0\n\t\t\t\t\tif value.indexOf(\"'\") == -1\n\t\t\t\t\t\tvalue = \"'\" + value + \"'\"\n\t\t\t\t\telse\n\t\t\t\t\t\tno # do something here\n\t\t\t\telse\n\t\t\t\t\tvalue = '\"' + value + '\"'\n\n\t\t\tif let colormatch = value.match(CSS_COLORS_REGEX)\n\t\t\t\tlet color = CSS_COLORS[colormatch[1]]\n\t\t\t\tlet level = color[parseInt(colormatch[2])]\n\t\t\t\tlet a = '100%'\n\t\t\t\tif typeof param == 'number'\n\t\t\t\t\ta = param + '%'\n\t\t\t\telif typeof param == 'string'\n\t\t\t\t\ta = param\n\t\t\t\tif level\n\t\t\t\t\treturn \"hsla({level[0]},{level[1]}%,{level[2]}%,{a})\"\n\n\t\telif value and value.toStyleString isa Function\n\t\t\treturn value.toStyleString!\n\t\treturn value\n\t\t\n\tdef parseDimension val\n\t\tif typeof val == 'string'\n\t\t\tlet [m,num,unit] = val.match(/^([-+]?[\\d\\.]+)(%|\\w+)$/)\n\t\t\treturn [parseFloat(num),unit]\n\t\telif typeof val == 'number'\n\t\t\treturn [val]\n\nexport const styles = new Styles\nexport const colors = Object.keys(CSS_COLORS)\n\nexport def use_styles\n\tyes\n\nextend class Element\n\tdef css$ key, value, mods\n\t\tself.style[key] = value\n\t\t\n\tdef css$var name, value, unit, key, param = null\n\t\tlet cssval = styles.toValue(value,unit,key,param)\n\t\tself.style.setProperty(name,cssval)\n\t\treturn\n\n", "export const renderContext = {\n\tcontext: null\n}", "import {renderContext} from './context'\nimport {scheduler} from '../scheduler'\n\nexport def render blk, ctx = {}\n\tlet prev = renderContext.context\n\trenderContext.context = ctx\n\tlet res = blk(ctx)\n\tif renderContext.context == ctx\n\t\trenderContext.context = prev\n\treturn res\n\nexport def mount mountable, into\n\tlet parent = into or global.document.body\n\tlet element = mountable\n\tif mountable isa Function\n\t\tlet ctx = {_: parent}\n\t\tlet tick = do\n\t\t\tlet prev = renderContext.context\n\t\t\trenderContext.context = ctx\n\t\t\tlet res = mountable(ctx)\n\t\t\tif renderContext.context == ctx\n\t\t\t\trenderContext.context = prev\n\t\t\treturn res\n\t\telement = tick()\n\t\tscheduler.listen('commit',tick)\n\telse\n\t\t# automatic scheduling of element - even before\n\t\t# element.__schedule = yes\n\t\telement.__F |= $EL_SCHEDULE$\n\n\tparent.appendChild(element)", "import {\n\tElement,\n\tHTMLSelectElement,\n\tHTMLInputElement,\n\tHTMLButtonElement,\n\tHTMLTextAreaElement,\n\tHTMLOptionElement\n} from './core'\n\nimport {commit} from '../scheduler'\n\n# TODO use meta properties for $$value, $$bound etc\n\nexport def use_dom_bind\n\tyes\n\nconst toBind = {\n\tINPUT: yes\n\tSELECT: yes\n\tTEXTAREA: yes\n\tBUTTON: yes\n}\n\nlet isGroup = do(obj)\n\treturn obj isa Array or (obj && obj.has isa Function)\n\nlet bindHas = do(object,value)\n\tif object == value\n\t\treturn true\n\telif object isa Array\n\t\tobject.indexOf(value) >= 0\n\telif object and object.has isa Function\n\t\tobject.has(value)\n\telif object and object.contains isa Function\n\t\tobject.contains(value)\n\telse\n\t\treturn false\n\nlet bindAdd = do(object,value)\n\tif object isa Array\n\t\tobject.push(value)\n\telif object and object.add isa Function\n\t\tobject.add(value)\n\nlet bindRemove = do(object,value)\n\tif object isa Array\n\t\tlet idx = object.indexOf(value)\n\t\tobject.splice(idx,1) if idx >= 0\n\telif object and object.delete isa Function\n\t\tobject.delete(value)\n\ndef createProxyProperty target\n\tdef getter\n\t\ttarget[0] ? target[0][target[1]] : undefined\n\n\tdef setter v\n\t\ttarget[0] ? (target[0][target[1]] = v) : null\n\n\treturn {\n\t\tget: getter\n\t\tset: setter\n\t}\n\n###\nData binding\n###\nextend class Element\n\tdef getRichValue\n\t\tself.value\n\n\tdef setRichValue value\n\t\tself.value = value\n\t\n\tdef bind$ key, value\n\t\tlet o = value or []\n\n\t\tif key == 'data' and !$$bound and toBind[nodeName]\n\t\t\t$$bound = yes\n\t\t\tif change$\n\t\t\t\taddEventListener('change',change$ = change$.bind(this))\n\t\t\tif input$\n\t\t\t\taddEventListener('input',input$ = input$.bind(this),capture: yes)\n\t\t\tif click$\n\t\t\t\taddEventListener('click',click$ = click$.bind(this),capture: yes)\n\t\t\t# this.on$('change',{_change$: true},this) if this.change$\n\t\t\t# this.on$('input',{capture: true,_input$: true},this) if this.input$\n\n\t\tObject.defineProperty(self,key,o isa Array ? createProxyProperty(o) : o)\n\t\treturn o\n\nObject.defineProperty(Element.prototype,'richValue',{\n\tget: do this.getRichValue()\n\tset: do(v) this.setRichValue(v)\n})\n\nextend class HTMLSelectElement\n\n\tdef change$ e\n\t\tlet model = self.data\n\t\tlet prev = $$value\n\t\t$$value = undefined\n\t\tlet values = self.getRichValue()\n\n\t\tif self.multiple\n\t\t\tif prev\n\t\t\t\tfor value in prev when values.indexOf(value) == -1\n\t\t\t\t\tbindRemove(model,value)\n\n\t\t\tfor value in values\n\t\t\t\tif !prev or prev.indexOf(value) == -1\n\t\t\t\t\tbindAdd(model,value)\n\t\telse\n\t\t\tself.data = values[0]\n\t\tcommit!\n\t\tself\n\n\tdef getRichValue\n\t\tif $$value\n\t\t\treturn $$value\n\n\t\t$$value = for o in self.selectedOptions\n\t\t\to.richValue\n\n\tdef syncValue\n\t\tlet model = self.data\n\n\t\tif self.multiple\n\t\t\tlet vals = []\n\t\t\tfor option,i in self.options\n\t\t\t\tlet val = option.richValue\n\t\t\t\tlet sel = bindHas(model,val)\n\t\t\t\toption.selected = sel\n\t\t\t\tvals.push(val) if sel\n\t\t\t$$value = vals\n\n\t\telse\n\t\t\tfor option,i in self.options\n\t\t\t\tlet val = option.richValue\n\t\t\t\tif val == model\n\t\t\t\t\t$$value = [val]\n\t\t\t\t\tbreak self.selectedIndex = i\n\t\treturn\n\n\tdef end$\n\t\tself.syncValue()\n\nextend class HTMLOptionElement\n\tdef setRichValue value\n\t\t$$value = value\n\t\tself.value = value\n\n\tdef getRichValue\n\t\tif $$value !== undefined\n\t\t\treturn $$value\n\t\treturn self.value\n\nextend class HTMLTextAreaElement\n\tdef setRichValue value\n\t\t$$value = value\n\t\tself.value = value\n\n\tdef getRichValue\n\t\tif $$value !== undefined\n\t\t\treturn $$value\n\t\treturn self.value\n\n\tdef input$ e\n\t\tself.data = self.value\n\t\tcommit!\n\n\tdef end$\n\t\tif $$bound and self.value != self.data\n\t\t\tself.value = self.data\n\n\nextend class HTMLInputElement\n\t\n\tdef input$ e\n\t\tlet typ = self.type\n\n\t\tif typ == 'checkbox' or typ == 'radio'\n\t\t\treturn\n\n\t\t$$value = undefined\n\t\tself.data = self.richValue\n\t\tcommit!\n\n\tdef change$ e\n\t\tlet model = self.data\n\t\tlet val = self.richValue\n\n\t\tif self.type == 'checkbox' or self.type == 'radio'\n\t\t\tlet checked = self.checked\n\t\t\tif isGroup(model)\n\t\t\t\tchecked ? bindAdd(model,val) : bindRemove(model,val)\n\t\t\telse\n\t\t\t\tself.data = checked ? val : false\n\t\tcommit!\n\n\tdef setRichValue value\n\t\tif $$value !== value\n\t\t\t$$value = value\n\n\t\t\tif self.value !== value\n\t\t\t\tself.value = value\n\t\treturn\n\n\tdef getRichValue\n\t\tif $$value !== undefined\n\t\t\treturn $$value\n\n\t\tlet value = self.value\n\t\tlet typ = self.type\n\n\t\tif typ == 'range' or typ == 'number'\n\t\t\tvalue = self.valueAsNumber\n\t\t\tvalue = null if Number.isNaN(value)\n\t\telif typ == 'checkbox'\n\t\t\tvalue = true if value == undefined or value === 'on'\n\n\t\treturn value\n\n\tdef end$\n\t\tif $$bound\n\t\t\tlet typ = self.type\n\t\t\tif typ == 'checkbox' or typ == 'radio'\n\t\t\t\tlet val = self.data\n\t\t\t\tif val === true or val === false or val == null\n\t\t\t\t\tself.checked = !!val\n\t\t\t\telse\n\t\t\t\t\tself.checked = bindHas(val,self.richValue)\n\t\t\telse\n\t\t\t\tself.richValue = self.data\n\t\treturn\n\t\t\nextend class HTMLButtonElement\n\n\tget checked\n\t\t$checked\n\t\t\n\tset checked val\n\t\tif val != $checked\n\t\t\t$checked = val\n\t\t\tflags.toggle('checked',!!val)\n\t\n\tdef setRichValue value\n\t\t$$value = value\n\t\tself.value = value\n\n\tdef getRichValue\n\t\tif $$value !== undefined\n\t\t\treturn $$value\n\t\treturn self.value\n\t\t\n\tdef click$ e\n\t\tlet data = self.data\n\t\tlet toggled = self.checked\n\t\tlet val = self.richValue\n\t\t# if self.type == 'checkbox' or self.type == 'radio'\n\t\tif isGroup(data)\n\t\t\ttoggled ? bindRemove(data,val) : bindAdd(data,val)\n\t\telse\n\t\t\tself.data = toggled ? null : val\n\t\tend$!\n\t\tcommit!\n\n\tdef end$\n\t\tif $$bound\n\t\t\tlet val = self.data\n\t\t\tif val === true or val === false or val == null\n\t\t\t\tself.checked = !!val\n\t\t\telse\n\t\t\t\tself.checked = bindHas(val,self.richValue)\n\t\treturn", "# imba$imbaPath=global\nimport {Event,Element} from '../dom/core'\nimport {listen,once,emit,unlisten,parseTime} from '../utils'\nimport {scheduler} from '../scheduler'\n\nconst keyCodes = {\n\tesc: [27],\n\ttab: [9],\n\tenter: [13],\n\tspace: [32],\n\tup: [38],\n\tdown: [40],\n\tleft: [37],\n\tright: [39],\n\tdel: [8,46]\n}\n\nexport const events = {}\n\nexport def use_events\n\tyes\n\ndef Event.log$mod ...params\n\tconsole.log(...params)\n\treturn true\n\n# Skip unless matching selector\ndef Event.sel$mod expr\n\treturn !!event.target.matches(String(expr))\n\t\ndef Event.if$mod expr\n\treturn !!expr\n\t\ndef Event.wait$mod time = 250\n\tnew Promise(do setTimeout($1,parseTime(time)))\n\ndef Event.self$mod\n\treturn event.target == element\n\t\ndef Event.throttle$mod time = 250\n\treturn false if handler.throttled\n\thandler.throttled = yes\n\n\telement.flags.incr('throttled')\n\n\tonce(current,'end') do\n\t\tsetTimeout(&,parseTime(time)) do\n\t\t\telement.flags.decr('throttled')\n\t\t\thandler.throttled = no\n\treturn true\n\ndef Event.debounce$mod time = 250\n\tlet queue = state.debounced ||= []\n\tqueue.push(queue.last = event)\n\tnew Promise do(resolve)\n\t\tsetTimeout(&,parseTime(time)) do\n\t\t\tif queue.last == event\n\t\t\t\t# if this event is still the last\n\t\t\t\t# add the debounced queue to the event\n\t\t\t\t# and let the chain continue\n\t\t\t\tevent.debounced = queue\n\t\t\t\thandler.state = {}\n\t\t\t\tresolve(true)\n\t\t\telse\n\t\t\t\tresolve(false)\n\t\ndef Event.flag$mod name,sel\n\t# console.warn 'event flag',self,arguments,id,step\n\tlet el = sel isa Element ? sel : (sel ? element.closest(sel) : element)\n\treturn true unless el\n\tlet step = step\n\tstate[step] = id\n\n\tel.flags.incr(name)\n\n\tlet ts = Date.now!\n\t\n\tonce(current,'end') do\n\t\tlet elapsed = Date.now! - ts\n\t\tlet delay = Math.max(250 - elapsed,0)\n\t\tsetTimeout(&,delay) do el.flags.decr(name)\n\treturn true\n\t\ndef Event.busy$mod sel\n\treturn Event.flag$mod.call(this,'busy',250,sel)\n\ndef Event.mod$mod name\n\t# FIXME\n\treturn Event.flag$mod.call(this,\"mod-{name}\",global.document.documentElement)\n\n# could cache similar event handlers with the same parts\nexport class EventHandler\n\tdef constructor params,closure\n\t\tself.params = params\n\t\tself.closure = closure\n\n\tdef getHandlerForMethod el, name\n\t\treturn null unless el\n\t\tel[name] ? el : self.getHandlerForMethod(el.parentNode,name)\n\n\t# okay to auto-import these?\n\tdef emit name, ...params do emit(self,name,params)\n\tdef on name, ...params do listen(self,name,...params)\n\tdef once name, ...params do once(self,name,...params)\n\tdef un name, ...params do unlisten(self,name,...params)\n\n\tdef handleEvent event\n\t\tlet target = event.target\n\t\tlet element = event.currentTarget\n\t\tlet mods = self.params\n\t\tlet i = 0\n\t\tlet awaited = no\n\t\tlet prevRes = undefined\n\t\t\n\t\tself.count ||= 0\n\t\tself.state ||= {}\n\n\t\tlet state = {\n\t\t\telement: element\n\t\t\tevent: event\n\t\t\tmodifiers: mods\n\t\t\thandler: this\n\t\t\tid: ++self.count\n\t\t\tstep: -1\n\t\t\tstate: self.state\n\t\t\tcommit: null\n\t\t\tcurrent: null\n\t\t}\n\t\t\n\t\tstate.current = state\n\n\t\tif event.handle$mod\n\t\t\tif event.handle$mod.apply(state,mods.options or []) == false\n\t\t\t\treturn\n\n\t\tlet guard = Event[self.type + '$handle'] or Event[event.type + '$handle'] or event.handle$mod\n\t\t\t\n\t\tif guard and guard.apply(state,mods.options or []) == false\n\t\t\treturn\n\t\t\n\t\t# let object = state.proxy or event \n\t\t\n\t\tself.currentEvents ||= new Set\n\t\tself.currentEvents.add(event)\t\n\n\t\tfor own handler,val of mods\n\t\t\tstate.step++\n\n\t\t\tif handler[0] == '_'\n\t\t\t\tcontinue\n\n\t\t\tif handler.indexOf('~') > 0\n\t\t\t\thandler = handler.split('~')[0]\n\t\t\t\n\t\t\tlet modargs = null\n\t\t\tlet ismod = no\n\t\t\tlet args = [event,state]\n\t\t\tlet res = undefined\n\t\t\tlet context = null\n\t\t\tlet m\n\t\t\tlet isstring = typeof handler == 'string'\n\t\t\t\n\t\t\tif handler[0] == '$' and handler[1] == '_' and val[0] isa Function\n\t\t\t\thandler = val[0]\n\t\t\t\targs = [event,state].concat(val.slice(1))\n\t\t\t\tcontext = element\n\n\t\t\t# parse the arguments\n\t\t\telif val isa Array\n\t\t\t\targs = val.slice()\n\t\t\t\tmodargs = args\n\n\t\t\t\tfor par,i in args\n\t\t\t\t\t# what about fully nested arrays and objects?\n\t\t\t\t\t# ought to redirect this\n\t\t\t\t\tif typeof par == 'string' && par[0] == '~' and par[1] == '$'\n\t\t\t\t\t\tlet name = par.slice(2)\n\t\t\t\t\t\tlet chain = name.split('.')\n\t\t\t\t\t\tlet value = state[chain.shift()] or event\n\n\t\t\t\t\t\tfor part,i in chain\n\t\t\t\t\t\t\tvalue = value ? value[part] : undefined\n\n\t\t\t\t\t\targs[i] = value\n\n\t\t\tif typeof handler == 'string' and m = handler.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/)\n\t\t\t\tmodargs = args = [] unless modargs\n\t\t\t\targs.unshift(m[2])\n\t\t\t\thandler = m[1]\n\n\t\t\t# check if it is an array?\n\t\t\tif handler == 'stop'\n\t\t\t\tevent.stopImmediatePropagation()\n\t\t\telif handler == 'prevent'\n\t\t\t\tevent.preventDefault()\n\t\t\telif handler == 'commit'\n\t\t\t\tstate.commit = yes\n\t\t\telif handler == 'silence' or handler == 'silent'\n\t\t\t\tstate.commit = no\n\t\t\telif handler == 'ctrl'\n\t\t\t\tbreak unless event.ctrlKey\n\t\t\telif handler == 'alt'\n\t\t\t\tbreak unless event.altKey\n\t\t\telif handler == 'shift'\n\t\t\t\tbreak unless event.shiftKey\n\t\t\telif handler == 'meta'\n\t\t\t\tbreak unless event.metaKey\n\t\t\telif handler == 'once'\n\t\t\t\t# clean up bound data as well\n\t\t\t\telement.removeEventListener(event.type,self)\n\t\t\telif handler == 'options'\n\t\t\t\tcontinue\n\n\t\t\telif keyCodes[handler]\n\t\t\t\tunless keyCodes[handler].indexOf(event.keyCode) >= 0\n\t\t\t\t\tbreak\n\n\t\t\telif handler == 'emit'\n\t\t\t\tlet name = args[0]\n\t\t\t\tlet detail = args[1] # is custom event if not?\n\t\t\t\tlet e = new CustomEvent(name, bubbles: true, detail: detail) # : new Event(name)\n\t\t\t\te.originalEvent = event\n\t\t\t\tlet customRes = element.dispatchEvent(e)\n\n\t\t\telif typeof handler == 'string'\n\t\t\t\tlet fn = (self.type and Event[self.type + '$' + handler + '$mod'])\n\t\t\t\tfn ||= event[handler + '$mod'] or Event[event.type + '$' + handler] or Event[handler + '$mod']\n\t\t\t\t\n\t\t\t\tif fn isa Function\n\t\t\t\t\thandler = fn\n\t\t\t\t\tcontext = state\n\t\t\t\t\targs = modargs or []\n\t\t\t\t\tismod = yes\n\n\t\t\t\t# should default to first look at closure - no?\n\t\t\t\telif handler[0] == '_'\n\t\t\t\t\thandler = handler.slice(1)\n\t\t\t\t\tcontext = self.closure\n\t\t\t\telse\n\t\t\t\t\tcontext = self.getHandlerForMethod(element,handler)\n\n\t\t\tif handler isa Function\n\t\t\t\tres = handler.apply(context or element,args)\n\t\t\telif context\n\t\t\t\tres = context[handler].apply(context,args)\n\n\t\t\tif state.commit === null and !ismod\n\t\t\t\tstate.commit = yes\n\n\t\t\tif res and res.then isa Function and res != scheduler.$promise\n\t\t\t\tscheduler.commit! if state.commit\n\t\t\t\tawaited = yes\n\t\t\t\t# TODO what if await fails?\n\t\t\t\tres = await res\n\n\t\t\tif res === false\n\t\t\t\tbreak\n\n\t\t\tstate.value = res\n\t\t\n\t\temit(state,'end',state)\n\n\t\tscheduler.commit! if state.commit\n\n\t\tself.currentEvents.delete(event)\n\t\tif self.currentEvents.size == 0\n\t\t\tself.emit('idle')\n\t\t# what if the result is a promise\n\t\treturn\n\n\n# Add methods to Element\nextend class Element\n\n\tdef on$ type, mods, scope\n\t\tlet check = 'on$' + type\n\t\tlet handler\n\n\t\thandler = new EventHandler(mods,scope)\n\n\t\tlet capture = mods.capture\n\t\tlet passive = mods.passive\n\n\t\tlet o = capture\n\n\t\tif passive\n\t\t\to = {passive: passive, capture: capture}\n\n\t\t# check if a custom handler exists for this type?\n\t\tif self[check] isa Function\n\t\t\thandler = self[check](mods,scope,handler)\n\t\telse\n\t\t\tself.addEventListener(type,handler,o)\n\t\treturn handler\n", "# imba$imbaPath=global\n\nimport {Event,PointerEvent,Element} from '../dom/core'\n\nimport {listen,once,emit,unlisten} from '../utils'\n\nexport def use_events_pointer\n\tyes\n\ndef round val,step = 1\n\tlet inv = 1.0 / step\n\tMath.round(val * inv) / inv\n\t\ndef clamp val,min,max\n\tif min > max\n\t\tMath.max(max,Math.min(min,val))\n\telse\n\t\tMath.min(max,Math.max(min,val))\n\ndef parseDimension val\n\tif typeof val == 'string'\n\t\tlet [m,num,unit] = val.match(/^([-+]?[\\d\\.]+)(%|\\w+)$/)\n\t\treturn [parseFloat(num),unit]\n\telif typeof val == 'number'\n\t\treturn [val]\n\ndef scale a0,a1,b0r,b1r,s = 0.1\n\tlet [b0,b0u] = parseDimension(b0r)\n\tlet [b1,b1u] = parseDimension(b1r)\n\tlet [sv,su] = parseDimension(s)\n\t\n\tb0 = (a1 - a0) * (b0 / 100) if b0u == '%'\n\tb1 = (a1 - a0) * (b1 / 100) if b1u == '%'\n\t\n\tsv = (b1 - b0) * (sv / 100) if su == '%'\n\t\n\treturn do(value,fit)\n\t\tlet pct = (value - a0) / (a1 - a0)\n\t\tlet val = b0 + (b1 - b0) * pct\n\t\t# console.log 'scaling',value,[a0,a1],[b0,b1],s,val\n\t\tval = round(val,sv) if s\n\t\tval = clamp(val,b0,b1) if fit\n\t\treturn val\n\n# Adding the pointerevent modifiers\nextend class PointerEvent\n\t\n\tdef primary$mod\n\t\treturn !!event.isPrimary\n\t\n\tdef mouse$mod\n\t\treturn event.pointerType == 'mouse'\n\t\n\tdef pen$mod\n\t\treturn event.pointerType == 'pen'\n\t\n\tdef touch$mod\n\t\treturn event.pointerType == 'touch'\n\t\n\tdef pressure$mod threshold = 0\n\t\treturn event.pressure > threshold\n\n\tdef lock$mod dr\n\t\treturn yes\n\nclass Touch\n\tdef constructor e,handler,el\n\t\tphase = 'init'\n\t\tevents = []\n\t\toriginalEvent = e\n\t\thandler = handler\n\t\ttarget = currentTarget = el\n\t\n\tset event value\n\t\tevents.push(value)\n\n\tget ctrlKey do originalEvent.ctrlKey\n\tget altKey do originalEvent.altKey\n\tget shiftKey do originalEvent.shiftKey\n\tget metaKey do originalEvent.metaKey\n\tget isPrimary do originalEvent.isPrimary\n\tget pointerType do originalEvent.pointerType\n\t\n\tget start\n\t\toriginalEvent\n\n\tget originalTarget\n\t\toriginalEvent.target\n\t\t\n\tget event\n\t\tevents[events.length - 1]\n\t\n\tget elapsed\n\t\tevent.timeStamp - events[0].timeStamp\n\t\n\tget pointerId do event.pointerId\n\tget clientX do event.clientX\n\tget clientY do event.clientY\n\tget offsetX do event.offsetX\n\tget offsetY do event.offsetY\n\tget type do event.type\n\tget active? do phase != 'ended'\n\n\tdef stopImmediatePropagation\n\t\tcancelBubble = yes\n\t\tevent.stopImmediatePropagation!\n\t\tself\n\n\tdef stopPropagation\n\t\tcancelBubble = yes\n\t\tevent.stopPropagation!\n\t\tself\n\n\tdef preventDefault\n\t\tdefaultPrevented = yes\n\t\tevent.preventDefault!\n\t\t\n\tdef emit name, ...params do emit(self,name,params)\n\tdef on name, ...params do listen(self,name,...params)\n\tdef once name, ...params do once(self,name,...params)\n\tdef un name, ...params do unlisten(self,name,...params)\n\ndef Event.touch$in$mod\n\treturn Event.touch$reframe$mod.apply(this,arguments)\n\t\ndef Event.touch$fit$mod\n\tlet o = (state[step] ||= {clamp:yes})\n\treturn Event.touch$reframe$mod.apply(this,arguments)\n\ndef Event.touch$round$mod sx=1,sy=sx\n\tevent.x = round(event.x,sx)\n\tevent.y = round(event.y,sy)\n\treturn yes\n\ndef Event.touch$snap$mod sx=1,sy=sx\n\tevent.x = round(event.x,sx)\n\tevent.y = round(event.y,sy)\n\treturn yes\n\t\ndef Event.touch$moved$mod a,b\n\tlet o = state[step] ||= {}\n\tunless o.setup\n\t\tlet th = a or 4\n\t\tif typeof a == 'string' and a.match(/^(up|down|left|right|x|y)$/)\n\t\t\to.dir = a\n\t\t\tth = b or 4\n\n\t\to.setup = yes\n\t\tlet [tv,tu] = parseDimension(th)\n\t\to.threshold = tv\n\t\to.sy = tv\n\t\to.x0 = event.x\n\t\to.y0 = event.y\n\t\tif (tu and tu != 'px')\n\t\t\tconsole.warn 'only px threshold allowed in @touch.moved'\n\n\tif o.active\n\t\treturn yes\n\t\n\tlet th = o.threshold\n\tlet dx = event.x - o.x0\n\tlet dy = event.y - o.y0\n\tlet hit = no\n\t\n\tif dx > th and (o.dir == 'right' or o.dir == 'x')\n\t\thit = yes\n\t\t\n\tif !hit and dx < -th and (o.dir == 'left' or o.dir == 'x')\n\t\thit = yes\n\t\t\n\tif !hit and dy > th and (o.dir == 'down' or o.dir == 'y')\n\t\thit = yes\n\t\n\tif !hit and dy < -th and (o.dir == 'up' or o.dir == 'y')\n\t\thit = yes\n\t\t\n\tif !hit\n\t\tlet dr = Math.sqrt(dx*dx + dy*dy)\n\t\tif dr > th and !o.dir\n\t\t\thit = yes\n\t\n\tif hit\n\t\to.active = yes\n\t\tlet pinned = state.pinTarget\n\t\telement.flags.incr('_move_')\n\t\tpinned.flags.incr('_move_') if pinned\n\t\tonce(current,'end') do\n\t\t\tpinned.flags.decr('_move_') if pinned\n\t\t\telement.flags.decr('_move_')\n\n\treturn !!o.active\n\t\ndef Event.touch$reframe$mod ...params\n\tlet o = (state[step] ||= {})\n\t\t\n\tunless o.rect\n\t\tlet el = element\n\t\tlet len = params.length\n\t\tlet box = params[0]\n\t\tlet min = 0\n\t\tlet max = 100%\n\t\tlet snap = 1\n\t\tlet typ = typeof box\n\t\t\n\t\tif typ == 'number' or (typ == 'string' and (/^([-+]?\\d[\\d\\.]*)(%|\\w+)$/).test(box)) or box isa Array\n\t\t\tbox = null\n\n\t\telif typ == 'string'\n\t\t\tif box == 'this' or box == ''\n\t\t\t\tbox = element\n\t\t\telif box == 'up'\n\t\t\t\tbox = element.parentNode\n\t\t\telif box == 'op'\n\t\t\t\tbox = element.offsetParent\n\t\t\telse\n\t\t\t\tbox = el.closest(box) or el.querySelector(box)\n\n\t\tif box == null\n\t\t\tlen++\n\t\t\tparams.unshift(box = el)\n\t\t\n\t\tif len == 2\n\t\t\tsnap = params[1]\n\t\telif len > 2\n\t\t\t[min,max,snap=1] = params.slice(1)\n\n\t\tlet rect = box.getBoundingClientRect!\n\t\tmin = [min,min] unless min isa Array\n\t\tmax = [max,max] unless max isa Array\n\t\tsnap = [snap,snap] unless snap isa Array\n\n\t\to.rect = rect\n\t\to.x = scale(rect.left,rect.right,min[0],max[0],snap[0])\n\t\to.y = scale(rect.top,rect.bottom,min[1],max[1],snap[1])\n\n\t\tstate.scaleX = o.x\n\t\tstate.scaleY = o.y\n\t\tevent.x0 = event.x = o.x(event.x,o.clamp)\n\t\tevent.y0 = event.y = o.y(event.y,o.clamp)\n\telse\n\t\tlet x = event.x = o.x(event.x,o.clamp)\n\t\tlet y = event.y = o.y(event.y,o.clamp)\n\t\tevent.dx = x - event.x0\n\t\tevent.dy = y - event.y0\n\n\treturn yes\n\t\ndef Event.touch$pin$mod ...params\n\tlet o = state[step] \n\t\t\n\tunless o\n\t\tlet box = params[0]\n\t\tif typeof box == 'string'\n\t\t\tbox = element.closest(box) or element.querySelector(box)\n\t\tunless box isa Element\n\t\t\tparams.unshift(box = state.target)\n\t\t\n\t\tlet ax = params[1] or 0\n\t\tlet ay = params[2] ?= ax\n\t\tlet rect = box.getBoundingClientRect!\n\t\t\n\t\to = state[step] = {\n\t\t\tx: state.clientX - (rect.left + rect.width * ax)\n\t\t\ty: state.clientY - (rect.top + rect.height * ay)\n\t\t}\n\t\t\n\t\tif box\n\t\t\tstate.pinTarget = box\n\t\t\tbox.flags.incr('_touch_')\n\t\t\tstate.once('end') do box.flags.decr('_touch_')\n\n\tevent.x -= o.x\n\tevent.y -= o.y\n\treturn yes\n\ndef Event.touch$lock$mod ...params\n\tlet o = state[step]\n\t\n\tunless o\n\t\to = state[step] = state.target.style\n\t\tlet prev = o.touchAction\n\t\to.touchAction = 'none'\n\t\tstate.once('end') do o.removeProperty('touch-action')\n\treturn yes\n\t\ndef Event.touch$sync$mod item,xalias='x',yalias='y'\n\tlet o = state[step]\n\t# how does clamping come into the picture?\n\tunless o\n\t\to = state[step] = {\n\t\t\tx: item[xalias] or 0\n\t\t\ty: item[yalias] or 0\n\t\t\ttx: state.x\n\t\t\tty: state.y\n\t\t}\n\t\n\tif commit === null\n\t\tcommit = yes\n\n\titem[xalias] = o.x + (state.x - o.tx) if xalias\n\titem[yalias] = o.y + (state.y - o.ty) if yalias\n\treturn yes\n\ndef isIOS\n\tlet nav = global.navigator.platform or ''\n\treturn true if nav.match(/iPhone|iPod|iPad/)\n\treturn true if nav == 'MacIntel' and global.navigator.maxTouchPoints > 2\n\treturn false\n\nextend class Element\n\tdef on$touch(mods,context,handler,o)\n\t\thandler.type = 'touch'\n\t\thandler.isIOS = isIOS!\n\t\t# global.document.documentElement.ontouchstart !== undefined\n\t\tself.addEventListener('pointerdown',handler,o)\n\t\tif handler.isIOS and !mods.passive\n\t\t\tself.addEventListener('touchstart',handler)\n\t\treturn handler\n\t\t\ndef Event.touch$handle\n\tlet e = event\n\tlet el = element\n\tlet id = state.pointerId\n\tlet m = modifiers\n\tcurrent = state\n\n\tif e.type == 'touchstart'\n\t\t# to make PointerEvents work well on ios we need to capture\n\t\t# the touchstart for the linked touch and cancel that\n\t\ttry \n\t\t\tif id and id == e.targetTouches[0].identifier\n\t\t\t\te.preventDefault!\n\t\treturn false\n\n\treturn id == e.pointerId if id != undefined\n\n\t# reject the touch before creation for certain modifiers\n\t# TODO should allow specifying pen OR mouse etc\n\treturn if m.ctrl and !e.ctrlKey\n\treturn if m.alt and !e.altKey\n\treturn if m.meta and !e.metaKey\n\treturn if m.shift and !e.shiftKey\n\treturn if m.if and !!m.if[0] == false\n\treturn if m.self and e.target != el\n\treturn if m.primary and !e.isPrimary\n\treturn if m.pen and e.pointerType != 'pen'\n\treturn if m.mouse and e.pointerType != 'mouse'\n\treturn if m.touch and e.pointerType != 'touch'\n\treturn if m.sel and !e.target.matches(String(m.sel[0]))\n\t\n\tlet t = state = handler.state = current = new Touch(e,handler,el)\n\n\tlet canceller = do(e)\n\t\te.preventDefault!\n\t\treturn false\n\t\t\n\tlet listener = do(e)\n\t\tlet typ = e.type\n\t\tlet ph = t.phase\n\t\tt.event = e\n\t\tlet end = typ == 'pointerup' or typ == 'pointercancel'\n\n\t\tunless typ == 'pointercancel'\n\t\t\tt.x = e.clientX\n\t\t\tt.y = e.clientY\n\t\t# console.log 'pointer',typ,ph,t.target..nodeName,e.x,e.y\n\t\tif end\n\t\t\tt.phase = 'ended'\n\t\t\n\t\ttry handler.handleEvent(t)\n\t\t\n\t\tif ph == 'init'\n\t\t\tt.phase = 'active'\n\n\t\tif end and !handler.isIOS\n\t\t\tel.releasePointerCapture(e.pointerId)\n\n\tlet disposed = no\n\t\n\tlet teardown = do(e)\n\t\treturn if disposed\n\t\tel.flags.decr('_touch_')\n\t\tt.emit('end')\n\t\tunless m.passive\n\t\t\tif (--handler.prevents) == 0\n\t\t\t\tel.style.removeProperty('touch-action')\n\t\thandler.state = {}\n\t\tel.removeEventListener('pointermove',listener)\n\t\tel.removeEventListener('pointerup',listener)\n\t\tel.removeEventListener('pointercancel',listener)\n\t\tglobal.document.removeEventListener('selectstart',canceller,capture:true)\n\t\tdisposed = yes\n\t\n\tunless m.passive\n\t\thandler.prevents ||= 0\n\t\thandler.prevents++\n\t\tel.style.setProperty('touch-action','none')\n\t\tel.offsetWidth # force reflow for touch-action none to take effect\n\n\tel.flags.incr('_touch_')\n\tel.addEventListener('pointermove',listener)\n\tel.addEventListener('pointerup',listener)\n\tel.addEventListener('pointercancel',listener)\n\tel.addEventListener('lostpointercapture',teardown,once:true)\n\n\tif !handler.isIOS\n\t\tel.setPointerCapture(e.pointerId)\n\n\tglobal.document.addEventListener('selectstart',canceller,capture:true)\n\n\tlistener(e)\n\treturn false", "import {asset} from 'imba';\nimport url from './home.svg';\nexport default asset({\n\turl: url,\n\ttype: 'svg',\n\tmeta: {\"attributes\":{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},\"flags\":[\"feather\",\"feather-home\"],\"content\":\"<path d=\\\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\\\"></path><polyline points=\\\"9 22 9 12 15 12 15 22\\\"></polyline>\"},\n\ttoString: function(){ return this.url;}\n})", "import {asset} from 'imba';\nimport url from './sun.svg';\nexport default asset({\n\turl: url,\n\ttype: 'svg',\n\tmeta: {\"attributes\":{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},\"flags\":[\"feather\",\"feather-sun\"],\"content\":\"<circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"5\\\"></circle><line x1=\\\"12\\\" y1=\\\"1\\\" x2=\\\"12\\\" y2=\\\"3\\\"></line><line x1=\\\"12\\\" y1=\\\"21\\\" x2=\\\"12\\\" y2=\\\"23\\\"></line><line x1=\\\"4.22\\\" y1=\\\"4.22\\\" x2=\\\"5.64\\\" y2=\\\"5.64\\\"></line><line x1=\\\"18.36\\\" y1=\\\"18.36\\\" x2=\\\"19.78\\\" y2=\\\"19.78\\\"></line><line x1=\\\"1\\\" y1=\\\"12\\\" x2=\\\"3\\\" y2=\\\"12\\\"></line><line x1=\\\"21\\\" y1=\\\"12\\\" x2=\\\"23\\\" y2=\\\"12\\\"></line><line x1=\\\"4.22\\\" y1=\\\"19.78\\\" x2=\\\"5.64\\\" y2=\\\"18.36\\\"></line><line x1=\\\"18.36\\\" y1=\\\"5.64\\\" x2=\\\"19.78\\\" y2=\\\"4.22\\\"></line>\"},\n\ttoString: function(){ return this.url;}\n})", "import {asset} from 'imba';\nimport url from './moon.svg';\nexport default asset({\n\turl: url,\n\ttype: 'svg',\n\tmeta: {\"attributes\":{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},\"flags\":[\"feather\",\"feather-moon\"],\"content\":\"<path d=\\\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\\\"></path>\"},\n\ttoString: function(){ return this.url;}\n})", "import {asset} from 'imba';\nimport url from './settings.svg';\nexport default asset({\n\turl: url,\n\ttype: 'svg',\n\tmeta: {\"attributes\":{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},\"flags\":[\"feather\",\"feather-settings\"],\"content\":\"<circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"3\\\"></circle><path d=\\\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\\\"></path>\"},\n\ttoString: function(){ return this.url;}\n})", "import {asset} from 'imba';\nimport url from './x.svg';\nexport default asset({\n\turl: url,\n\ttype: 'svg',\n\tmeta: {\"attributes\":{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},\"flags\":[\"feather\",\"feather-x\"],\"content\":\"<line x1=\\\"18\\\" y1=\\\"6\\\" x2=\\\"6\\\" y2=\\\"18\\\"></line><line x1=\\\"6\\\" y1=\\\"6\\\" x2=\\\"18\\\" y2=\\\"18\\\"></line>\"},\n\ttoString: function(){ return this.url;}\n})", "import {asset} from 'imba';\nimport url from './check.svg';\nexport default asset({\n\turl: url,\n\ttype: 'svg',\n\tmeta: {\"attributes\":{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},\"flags\":[\"feather\",\"feather-check\"],\"content\":\"<polyline points=\\\"20 6 9 17 4 12\\\"></polyline>\"},\n\ttoString: function(){ return this.url;}\n})", "import {asset} from 'imba';\nimport url from './plus.svg';\nexport default asset({\n\turl: url,\n\ttype: 'svg',\n\tmeta: {\"attributes\":{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},\"flags\":[\"feather\",\"feather-plus\"],\"content\":\"<line x1=\\\"12\\\" y1=\\\"5\\\" x2=\\\"12\\\" y2=\\\"19\\\"></line><line x1=\\\"5\\\" y1=\\\"12\\\" x2=\\\"19\\\" y2=\\\"12\\\"></line>\"},\n\ttoString: function(){ return this.url;}\n})", "// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (false) {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don\u2019t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don\u2019t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n", "let p = console.log\nlet o = \"hello world\"\n\nimport { nanoid as generate_id } from 'nanoid'\n\nlet api_version = \"0.11\"\nlet state = {}\n\ngetInitialState!\nloadState!\n\ndef getInitialState\n\tstate.tasks = []\n\tstate.past_tasks = []\n\tstate.cycle_start_time = null\n\tstate.adding = no\n\tstate.viewing_complete = no\n\tstate.add_task_text = \"\"\n\tstate.view = \"SCHEDULE\"\n\tstate.top_button_timeout = null\n\ndef loadState\n\tif localStorage.hasOwnProperty(let state_key = get_state_key!)\n\t\tstate = JSON.parse(localStorage[state_key])\n\ndef save_state\n\tlet state_key = get_state_key!\n\tlocalStorage[state_key] = JSON.stringify state\n\ndef get_state_key\n\treturn \"state_\" + api_version\n\ndef format_time_from_seconds s\n\tif s / 3600 >= 1\n\t\treturn new Date(s * 1000).toISOString().substr(11, 8)\n\telse\n\t\treturn new Date(s * 1000).toISOString().substr(14, 5)\n\ndef get_completed_tasks\n\tstate.tasks.filter(|t| t.done)\n\ndef get_incomplete_tasks\n\tstate.tasks.filter(|t| !t.done)\n\ndef get_tasks_list\n\tif state.viewing_complete\n\t\tget_completed_tasks!\n\telse\n\t\tget_incomplete_tasks!\n\ndef deactivate_task task\n\ttask.active_duration += Date.now! - task.start_time\n\ttask.start_time = null\n\ndef cmp_time item1, item2\n\tlet time1 = item1.time.split(\":\")\n\tlet time2 = item2.time.split(\":\")\n\tlet hours1 = parseInt time1[0]\n\tlet mins1 = parseInt time1[1]\n\tlet hours2 = parseInt time2[0]\n\tlet mins2 = parseInt time2[1]\n\tif hours1 > hours2\n\t\treturn true\n\telif hours1 < hours2\n\t\treturn false\n\telse\n\t\tif mins1 > mins2\n\t\t\treturn true\n\t\telif mins1 < mins2\n\t\t\treturn false\n\t\telse\n\t\t\treturn false\n\ndef best_fit x, a, b, c\n\t(a * (x**2)) + (b * x) + c\n\ndef red perc\n\tparseInt(best_fit perc, -316, 92, 230)\n\ndef green perc\n\tparseInt(best_fit perc, -30, -178, 254)\n\ndef blue perc\n\tparseInt(best_fit perc, -270, 275, 147)\n\ndef get_daytime_in_minutes\n\tlet now = Date().substr(16,5)\n\tlet hours = parseInt(now.substr(0,2)) - 6\n\tlet minutes = parseInt(now.substr(3))\n\t(hours * 60) + minutes\n\ndef get_color_based_on_daytime c=0\n\tlet minutes = get_daytime_in_minutes!\n\tlet max_minutes = 24 * 60\n\tlet perc = minutes/max_minutes\n\t\"rgb({red perc+c}, {green perc+c}, {blue perc+c})\"\n\ndef create_task_from_text item\n\tlet words = item.trim().split(/\\s/)\n\n\tconst str_is_digit = do |s|\n\t\t/^\\d+$/.test(s)\n\n\tconst str_is_hours = do |s|\n\t\ts.length <= 2 and parseInt(s) < 24\n\n\tconst str_is_hours_and_tens = do |s|\n\t\ts.length == 3 and parseInt(s.substr(1)) < 60\n\n\tconst str_is_hours_and_mins = do |s|\n\t\ts.length == 4 and parseInt(s.substr(0,2)) < 24 and parseInt(s.substr(2)) < 60\n\n\tconst parse_time = do |s|\n\t\tif !str_is_digit s\n\t\t\treturn false\n\t\tif str_is_hours s\n\t\t\treturn s + \":00\"\n\t\telif str_is_hours_and_tens s\n\t\t\treturn s[0] + \":\" + s.substr(1)\n\t\telif str_is_hours_and_mins s\n\t\t\treturn s.substr(0,2) + \":\" + s.substr(2)\n\t\telse\n\t\t\treturn false\n\n\tconst parse_duration = do |s|\n\t\tif !str_is_digit s\n\t\t\treturn false\n\t\tif str_is_hours s\n\t\t\treturn parseInt(s) * 3600\n\t\telif str_is_hours_and_tens s\n\t\t\tp s\n\t\t\treturn (parseInt(s[0]) * 3600) + (parseInt(s.substr(1)) * 60)\n\t\telif str_is_hours_and_mins s\n\t\t\treturn (parseInt(s.substr(0,2)) * 3600) + (parseInt(s.substr(2) * 60))\n\t\telse\n\t\t\treturn false\n\n\tlet task = {done:false, active_duration:0, start_time:null}\n\tlet desc\n\tlet time\n\tlet duration\n\t\n\tif (task.time = parse_time words[0]) and (task.duration = parse_duration words[1])\n\t\ttask.desc = words.slice(2).join(\" \")\n\telif (task.time = parse_time(words[0]))\n\t\ttask.desc = words.slice(1).join(\" \")\n\telse\n\t\ttask.time = \"0:00\"\n\t\ttask.desc = words.join(\" \")\n\n\ttask.id = generate_id!\n\n\ttask\n\nlet color = {}\ncolor.a = \"purple2\"\ncolor.b = \"#EBF5EE\"\ncolor.c = \"purple1\"\ncolor.d = \"cyan2\"\ncolor.e = \"#542344\"\ncolor.f = \"moccasin\"\ncolor.g = \"green3\"\ncolor.h = \"blue5\"\n\nglobal css @root\n\tff: 'Open Sans', sans-serif\n\t-webkit-touch-callout:none\n\t-webkit-user-select:none\n\t-moz-user-select:none\n\tuser-select:none\n\nglobal css body\n\ttouch-action: manipulation\n\tm:0\n\tpos:fixed\n\tleft:0\n\tright:0\n\tbottom:0\n\ttop:0\n\td:flex\n\tfld:column\n\tjc:center\n\tai:center\n\nglobal css .bottom-button\n\th:100px b:0 l:0 r:0\n\tw:100%\n\tbox-sizing:border-box\n\td:flex fld:row jc:center ai:center\n\tfs:20px cursor:pointer\n\tpb:30px ta:center\n\tpx:10px\n\tuser-select:none\n\ntag Options\n\n\tdef reset\n\t\tgetInitialState!\n\n\tdef update\n\t\tstate.view = \"SCHEDULE\"\n\t\twindow.location.reload(true)\n\n\tdef render\n\t\t<self[w:100% h:100% d:flex fld:column jc:space-between ai:center]>\n\t\t\t<div[d:flex fld:column jc:flex-start ai:center w:100% mt:20px]>\n\t\t\t\tcss div w:85% bg:{color.a} d:flex fld:row jc:center ai:center p:20px mb:20px rd:20px c:{color.d} fs:20px cursor:pointer\n\t\t\t\t<div@click=update> \"UPDATE\"\n\t\t\t<div[w:100%]>\n\t\t\t\t<div.bottom-button[bg:{color.b}]@click=state.view=\"SCHEDULE\">\n\t\t\t\t\tcss div d:flex fl:1 fld:row jc:center ai:center h:100%\n\t\t\t\t\t<div@click=view_options> <svg src='./assets/home.svg'>\n\n\ntag Schedule\n\n\tdef view_options\n\t\tstate.view = \"OPTIONS\"\n\n\tdef get_total_active_time\n\t\tlet total = 0\n\t\tfor item of state.tasks\n\t\t\ttotal += item.active_duration\n\t\tparseInt(total/1000)\n\n\tdef clear_timeout\n\t\tclearTimeout(state.top_button_timeout)\n\t\tstate.top_button_timeout = null\n\n\tdef handle_top_button_pointercancel\n\t\tp \"pointercancel\"\n\t\tclear_timeout!\n\t\n\tdef handle_top_button_pointerup\n\t\tp \"pointerup\"\n\t\tclear_timeout!\n\n\tdef handle_top_button_pointerdown\n\t\tp \"pointerdown\"\n\t\tstate.top_button_timeout = setTimeout(handle_long_press.bind(self), 2000)\n\t\n\tdef push_specific_tasks_to_past_list\n\t\tlet tasks_to_push = []\n\t\tlet tasks_to_keep = []\n\t\tfor task of state.tasks\n\t\t\tif task.start_time\n\t\t\t\tdeactivate_task task\n\t\t\tif task.done\n\t\t\t\ttasks_to_push.push(task)\n\t\t\telif task.active_duration > 0\n\t\t\t\ttasks_to_push.push(task)\n\t\t\t\ttask = JSON.parse(JSON.stringify(task))\n\t\t\t\ttask.active_duration = 0\n\t\t\t\ttasks_to_keep.push(task)\n\t\t\telse\n\t\t\t\ttasks_to_keep.push(task)\n\t\tstate.past_tasks.push({cycle_start_time:state.cycle_start_time, cycle_end_time:Date.now!, tasks:tasks_to_push})\n\t\tstate.tasks = tasks_to_keep\n\t\tstate.cycle_start_time = null\n\t\tstate.viewing_complete = no\n\n\tdef handle_long_press\n\t\tclear_timeout!\n\t\tif state.cycle_start_time\n\t\t\tpush_specific_tasks_to_past_list!\n\t\t\timba.commit!\n\t\telse\n\t\t\tstate.cycle_start_time = Date.now!\n\t\t\timba.commit!\n\t\n\tdef get_header_and_footer_bg\n\t\tif state.top_button_timeout\n\t\t\tif state.cycle_start_time\n\t\t\t\tcolor.e\n\t\t\telse\n\t\t\t\tcolor.b\n\t\telse\n\t\t\tif state.cycle_start_time\n\t\t\t\tcolor.b\n\t\t\telse\n\t\t\t\tcolor.e\n\n\tdef get_header_and_footer_color\n\t\tif state.top_button_timeout\n\t\t\tif state.cycle_start_time\n\t\t\t\tcolor.a\n\t\t\telse\n\t\t\t\tcolor.e\n\t\telse\n\t\t\tif state.cycle_start_time\n\t\t\t\tcolor.e\n\t\t\telse\n\t\t\t\tcolor.a\n\t\n\tdef render\n\t\tlet tasks = get_tasks_list!\n\t\tlet schedule_bg\n\t\tif tasks.length == 0 && state.cycle_start_time\n\t\t\tschedule_bg = color.b\n\t\telse\n\t\t\tschedule_bg = \"none\"\n\n\t\t<self[w:100% h:100% d:flex fld:column jc:space-between ai:center]>\n\t\t\tcss .header_and_footer\n\t\t\t\tbg:{get_header_and_footer_bg!}\n\t\t\t\tc:{get_header_and_footer_color!}\n\t\t\t\ttransition:background 2500ms, color 250ms\n\t\t\t<div.header_and_footer\n\t\t\t\t@pointerdown=handle_top_button_pointerdown\n\t\t\t\t@pointercancel=handle_top_button_pointercancel\n\t\t\t\t@pointerleave=handle_top_button_pointercancel\n\t\t\t\t@pointerup=handle_top_button_pointerup\n\t\t\t\t[\n\t\t\t\t\tw:100%\n\t\t\t\t\th:70px\n\t\t\t\t\td:flex\n\t\t\t\t\tcursor:pointer\n\t\t\t\t\tfld:row\n\t\t\t\t\tjc:center\n\t\t\t\t\tai:center\n\t\t\t\t]>\n\t\t\t\t\tif state.cycle_start_time\n\t\t\t\t\t\t<svg src='./assets/sun.svg'>\n\t\t\t\t\telse\n\t\t\t\t\t\t<svg src='./assets/moon.svg'>\n\t\t\t<div[\n\t\t\t\tfl:1\n\t\t\t\td:flex\n\t\t\t\tfld:column\n\t\t\t\tjc:flex-start\n\t\t\t\tai:center\n\t\t\t\tw:100%\n\t\t\t\tbg:{schedule_bg}\n\t\t\t\toverflow-y:scroll\n\t\t\t\ttransition:background-color 700ms\n\t\t\t]>\n\t\t\t\tif tasks.length > 0\n\t\t\t\t\t<div [w:100% box-sizing:border-box px:15px pt:15px]> for item in tasks\n\t\t\t\t\t\t<Task data=item $key=item.id>\n\t\t\t<div[w:100%]>\n\t\t\t\t<div.header_and_footer [d:flex fld:row jc:center w:100% h:30px ai:center]> format_time_from_seconds(get_total_active_time!)\n\t\t\t\t<div.bottom-button.header_and_footer>\n\t\t\t\t\tcss div\n\t\t\t\t\t\td:flex\n\t\t\t\t\t\tfl:1\n\t\t\t\t\t\tfld:row\n\t\t\t\t\t\tjc:center\n\t\t\t\t\t\tai:center\n\t\t\t\t\t\th:100%\n\t\t\t\t\t<div@click=view_options> <svg src='./assets/settings.svg'>\n\t\t\t\t\tif state.cycle_start_time\n\t\t\t\t\t\t<div@click=state.viewing_complete=!state.viewing_complete>\n\t\t\t\t\t\t\tif state.viewing_complete\n\t\t\t\t\t\t\t\t<svg src='./assets/x.svg'>\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t<svg src='./assets/check.svg'>\n\t\t\t\t\t<div@click=state.adding=!state.adding> <svg src='./assets/plus.svg'>\n\n\ntag AddTaskPage\n\n\tdef insert_task task_to_insert\n\t\tfor task, index in state.tasks\n\t\t\tif cmp_time(task, task_to_insert)\n\t\t\t\tstate.tasks.splice(index, 0, task_to_insert)\n\t\t\t\treturn\n\t\tstate.tasks.splice(state.tasks.length, 0, task_to_insert)\n\n\tdef handle_add\n\t\tconst text_is_whitespace = do |t| /^\\s*$/.test t\n\t\tif text_is_whitespace state.add_task_text\n\t\t\tstate.adding = !state.adding\n\t\t\treturn\n\t\tlet task = create_task_from_text state.add_task_text\n\t\tinsert_task task\n\t\tstate.add_task_text = \"\"\n\t\tstate.adding = !state.adding\n\t\n\tdef focus_and_select\n\t\t$add_task_input.focus!\n\t\t$add_task_input.select!\n\n\tdef render\n\t\t<self@click=focus_and_select [d:flex fl:1 fld:column jc:center ai:center]>\n\t\t\t<form @submit.prevent=handle_add>\n\t\t\t\t<input$add_task_input [w:100% h:50px fs:25px p:10px] placeholder=\"[0-2359] [0-2359] [description]\" bind=state.add_task_text>\n\n\ntag Task\n\n\tprop timeout\n\n\tdef clear_timeout\n\t\tclearTimeout(timeout)\n\t\ttimeout = null\n\n\tdef handle_long_press\n\t\tclear_timeout!\n\t\tif data.done\n\t\t\tdelete_task!\n\t\t\timba.commit!\n\t\telse\n\t\t\tdata.done = true\n\t\t\timba.commit!\n\t\t\tif data.start_time\n\t\t\t\tdeactivate_task data\n\n\tdef handle_task_pointerdown\n\t\tp \"pointerdown\"\n\t\tif state.cycle_start_time\n\t\t\ttimeout = setTimeout(handle_long_press.bind(self), 600)\n\n\tdef handle_task_pointercancel\n\t\tp \"pointercancel\"\n\t\tclear_timeout!\n\t\n\tdef delete_task\n\t\tstate.tasks = state.tasks.filter(do |t| t.id != data.id)\n\n\tdef handle_task_pointerup\n\t\tp \"pointerup\"\n\t\tif timeout\n\t\t\tclear_timeout!\n\t\t\tif data.done\n\t\t\t\tdata.done = no\n\t\t\telif data.start_time\n\t\t\t\tdeactivate_task data\n\t\t\telse\n\t\t\t\tdata.start_time = Date.now!\n\t\n\tdef get_middle_bg\n\t\tif !state.cycle_start_time\n\t\t\tcolor.a\n\t\telif timeout\n\t\t\tcolor.b\n\t\telif data.done\n\t\t\tcolor.e\n\t\telse\n\t\t\tif data.start_time\n\t\t\t\tcolor.a\n\t\t\telse\n\t\t\t\tcolor.c\n\n\tdef get_side_bg\n\t\tif !state.cycle_start_time\n\t\t\tcolor.a\n\t\telif timeout\n\t\t\tcolor.b\n\t\telif data.done\n\t\t\tcolor.e\n\t\telse\n\t\t\tcolor.a\n\t\n\tdef get_pink_bg\n\t\treturn \"pink3\"\n\t\tlet active_task_duration = get_task_active_duration!\n\t\tif data.duration > 0\n\t\t\tp active_task_duration / data.duration\n\n\tdef get_task_active_duration\n\t\tif data.start_time\n\t\t\treturn parseInt(data.active_duration/1000 + (Date.now! - data.start_time)/1000)\n\t\telse\n\t\t\treturn parseInt(data.active_duration/1000)\n\n\tdef render\n\t\t<self[\n\t\t\toverflow:hidden d:flex h:70px flex:1 fld:row rd:5px\n\t\t\tjc:space-between mb:15px bxs:1px 1px 10px -5px black\n\t\t\tc:{data.done ? color.a : color.e}\n\t\t\ttransform:{data.start_time ? \"scaleX(0.95)\" : \"scale(1)\"}\n\t\t\ttransition:transform 25ms\n\t\t]\n\t\t\t@pointerdown=handle_task_pointerdown\n\t\t\t@pointercancel=handle_task_pointercancel\n\t\t\t@pointerleave=handle_task_pointercancel\n\t\t\t@pointerup=handle_task_pointerup\n\t\t\tautorender=1fps\n\t\t>\n\t\t\tcss div transition:background-color 300ms\n\t\t\tcss .middle px:7px py:2px w:100% d:flex fld:row jc:flex-start ai:center cursor:pointer bg:{get_middle_bg!}\n\t\t\tcss .side d:flex fld:column jc:center ta:center bg:{get_side_bg!}\n\t\t\tcss .left min-width:50px\n\t\t\tcss .right min-width:85px\n\t\t\t<div.side.left> data.time\n\t\t\t<div.middle> data.desc\n\t\t\tlet active_task_duration = get_task_active_duration!\n\t\t\tif data.duration && data.duration > active_task_duration\n\t\t\t\t<div.side.right[bg:{get_pink_bg!}]> \"-\" + format_time_from_seconds(data.duration - active_task_duration)\n\t\t\telif data.duration\n\t\t\t\t<div.side.right[bg:{color.g}]> \"+\" + format_time_from_seconds(Math.abs(data.duration - active_task_duration))\n\t\t\telse\n\t\t\t\t<div.side.right> \"+\" + format_time_from_seconds(active_task_duration)\n\n\ntag App\n\n\tdef render\n\t\tsave_state!\n\t\t<self [d:flex fld:column h:100% max-width:500px w:100% bg:{color.e} ]>\n\t\t\tif state.adding\n\t\t\t\t<AddTaskPage>\n\t\t\telse\n\t\t\t\tif state.view == \"OPTIONS\"\n\t\t\t\t\t<Options>\n\t\t\t\telse\n\t\t\t\t\t<Schedule>\n\nimba.mount <App>\n"],
  "mappings": "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",
  "names": []
}
